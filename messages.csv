,numid,list,messageid,senderaliasid,senderalias,referenceid,recipaliasid,recipalias,datetime,subject,body,from_commit
0,19615,54,JIRA.12965744.1462571211000.33745.1465056899194@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.12965744.1462571211000@Atlassian.JIRA,,,2016-06-04 09:14:59-07,[jira] [Commented] (AIRFLOW-64) dags_folder not handled correctly,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-64?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=15315555#comment-15315555 ] 

ASF subversion and git services commented on AIRFLOW-64:
--------------------------------------------------------

Commit d32fb8d974f85a316d0cb96d5b6fb2d3502972be in incubator-airflow''s branch refs/heads/master from [~giacomo.tag@gmail.com]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=d32fb8d ]

[AIRFLOW-64] Add note about relative DAGS_FOLDER

Closes #1474 from itajaja/patch-1.


> dags_folder not handled correctly
> ---------------------------------
>
>                 Key: AIRFLOW-64
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-64
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: cli, executor, scheduler
>    Affects Versions: Airflow 1.7.0
>         Environment: running on mac os X
> airflow.cfg:
> ```
> airflow_home = .
> dags_folder = ./dags
> ```
>            Reporter: Giacomo Tagliabe
>
> running `airflow list_dags` with the command above from a location with a `dags` subdirectory, the cli erros the following message:
> ```
> airflow.utils.AirflowException: subdir has to be part of your DAGS_FOLDER as defined in your airflow.cfg
> ```
> if I change the airflow.cfg to `dags_folder = dags`, list_dags seem to work correctly, but any other task doesn''t seem to handle the dags_folder correctly. Here is what `airflow scheduler` outputs when it tries to execute a scheduled dag:
> ```
> DAG [process_deleted_runs] could not be found in /Users/giacomo/workspace/qsi/scheduler/dags/Users/giacomo/workspace/qsi/scheduler/process_deleted_runs.py
> ```
> As you see, it seems that the absolute path (`/Users/giacomo/workspace/qsi/scheduler/`) is chained twice.



--
This message was sent by Atlassian JIRA
(v6.3.4#6332)

",t
1,19616,54,JIRA.12965744.1462571211000.33748.1465056959189@Atlassian.JIRA,1277,Jeremiah Lowin (JIRA),JIRA.12965744.1462571211000@Atlassian.JIRA,,,2016-06-04 09:15:59-07,[jira] [Resolved] (AIRFLOW-64) dags_folder not handled correctly,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-64?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Jeremiah Lowin resolved AIRFLOW-64.
-----------------------------------
    Resolution: Fixed

Issue resolved by pull request #1474
[https://github.com/apache/incubator-airflow/pull/1474]

> dags_folder not handled correctly
> ---------------------------------
>
>                 Key: AIRFLOW-64
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-64
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: cli, executor, scheduler
>    Affects Versions: Airflow 1.7.0
>         Environment: running on mac os X
> airflow.cfg:
> ```
> airflow_home = .
> dags_folder = ./dags
> ```
>            Reporter: Giacomo Tagliabe
>
> running `airflow list_dags` with the command above from a location with a `dags` subdirectory, the cli erros the following message:
> ```
> airflow.utils.AirflowException: subdir has to be part of your DAGS_FOLDER as defined in your airflow.cfg
> ```
> if I change the airflow.cfg to `dags_folder = dags`, list_dags seem to work correctly, but any other task doesn''t seem to handle the dags_folder correctly. Here is what `airflow scheduler` outputs when it tries to execute a scheduled dag:
> ```
> DAG [process_deleted_runs] could not be found in /Users/giacomo/workspace/qsi/scheduler/dags/Users/giacomo/workspace/qsi/scheduler/process_deleted_runs.py
> ```
> As you see, it seems that the absolute path (`/Users/giacomo/workspace/qsi/scheduler/`) is chained twice.



--
This message was sent by Atlassian JIRA
(v6.3.4#6332)

",t
2,19617,54,JIRA.12965744.1462571211000.33825.1465060019165@Atlassian.JIRA,1273,Chris Riccomini (JIRA),JIRA.12965744.1462571211000@Atlassian.JIRA,,,2016-06-04 10:06:59-07,[jira] [Updated] (AIRFLOW-64) dags_folder not handled correctly,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-64?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Chris Riccomini updated AIRFLOW-64:
-----------------------------------
    Assignee: Giacomo Tagliabe

> dags_folder not handled correctly
> ---------------------------------
>
>                 Key: AIRFLOW-64
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-64
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: cli, executor, scheduler
>    Affects Versions: Airflow 1.7.0
>         Environment: running on mac os X
> airflow.cfg:
> ```
> airflow_home = .
> dags_folder = ./dags
> ```
>            Reporter: Giacomo Tagliabe
>            Assignee: Giacomo Tagliabe
>
> running `airflow list_dags` with the command above from a location with a `dags` subdirectory, the cli erros the following message:
> ```
> airflow.utils.AirflowException: subdir has to be part of your DAGS_FOLDER as defined in your airflow.cfg
> ```
> if I change the airflow.cfg to `dags_folder = dags`, list_dags seem to work correctly, but any other task doesn''t seem to handle the dags_folder correctly. Here is what `airflow scheduler` outputs when it tries to execute a scheduled dag:
> ```
> DAG [process_deleted_runs] could not be found in /Users/giacomo/workspace/qsi/scheduler/dags/Users/giacomo/workspace/qsi/scheduler/process_deleted_runs.py
> ```
> As you see, it seems that the absolute path (`/Users/giacomo/workspace/qsi/scheduler/`) is chained twice.



--
This message was sent by Atlassian JIRA
(v6.3.4#6332)

",t
3,19618,54,JIRA.12975651.1464993953000.33830.1465060199183@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.12975651.1464993953000@Atlassian.JIRA,,,2016-06-04 10:09:59-07,"[jira] [Commented] (AIRFLOW-211) Fix bug when PR tool tries to
 ""close"" an issue instead of ""resolving"" it","
    [ https://issues.apache.org/jira/browse/AIRFLOW-211?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=15315573#comment-15315573 ] 

ASF subversion and git services commented on AIRFLOW-211:
---------------------------------------------------------

Commit c78101eaa1154c266e6b4d970916a8d36b563343 in incubator-airflow''s branch refs/heads/master from jlowin
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=c78101e ]

[AIRFLOW-211] Fix JIRA ""resolve"" vs ""close"" behavior

Closes #1571 from jlowin/pr-tool-8.


> Fix bug when PR tool tries to ""close"" an issue instead of ""resolving"" it
> ------------------------------------------------------------------------
>
>                 Key: AIRFLOW-211
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-211
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: PR tool
>            Reporter: Jeremiah Lowin
>            Assignee: Jeremiah Lowin
>            Priority: Minor
>
> Inadvertently introduced an issue when fixing AIRFLOW-207: ""closing"" an issue (as opposed to ""resolving"" it) sometimes causes a crash. 
> I don''t know why closing doesn''t work; it claims that the provided fields are invalid, but they are valid (fix-version, resolution). Let''s just go back to the old behavior: ""resolving"" rather than ""closing"".



--
This message was sent by Atlassian JIRA
(v6.3.4#6332)

",t
4,666938,23,CA+tQj+V184OvSNZOJUpoSZ_knEEvKi0zcU6o8TUsFnaXe9PK5g@mail.gmail.com,25072,slack-milagro-dev-apache,,,,2016-05-27 05:15:05-07,Re: [FROM MILAGRO''S SLACK],"NOTE: ALL CHAT IN THIS CHANNEL is sent to the
[url=dev@milagro.incubating.apache.org]dev@milagro.incubating.apache.org[/url]
mail list. If you want to have a private chat, please do so in a one
on one message.

@brian pinned a message to this channel.

@brian set the channel topic: The CHAT version of
[url=dev@milagro.incubating.apache.org]dev@milagro.incubating.apache.org[/url]
using Slack. ALL CHAT IS SENT TO
[url=dev@milagro.incubating.apache.org]dev@milagro.incubating.apache.org[/url]
.

@brian set the channel topic: ALL CHAT IN GENERAL IS SENT TO
[url=dev@milagro.incubating.apache.org]dev@milagro.incubating.apache.org[/url]
.

| By Brian Spector

NOTE: ALL CHAT IN THIS CHANNEL is sent to the
[url=dev@milagro.incubating.apache.org]dev@milagro.incubating.apache.org[/url]
mail list. If you want to have a private chat, please do so in a one
on one message.

",f
5,26606,54,JIRA.13109826.1508195516000.119.1508351460605@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13109826.1508195516000@Atlassian.JIRA,,,2017-10-18 11:31:00-07,"[jira] [Commented] (AIRFLOW-1718) Increase num_retries polling
 value on Dataproc hook","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1718?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209792#comment-16209792 ] 

ASF subversion and git services commented on AIRFLOW-1718:
----------------------------------------------------------

Commit 6078e753aac35aa4f5971a719d9f736c35396770 in incubator-airflow''s branch refs/heads/master from [~cjqian]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=6078e75 ]

[AIRFLOW-1718] Set num_retries on Dataproc job request execution

Closes #2696 from cjqian/1718


> Increase num_retries polling value on Dataproc hook
> ---------------------------------------------------
>
>                 Key: AIRFLOW-1718
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1718
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Crystal Qian
>            Assignee: Crystal Qian
>            Priority: Minor
>   Original Estimate: 24h
>  Remaining Estimate: 24h
>
> Currently, `num_retries = 0` when execute() is called (https://google.github.io/google-api-python-client/docs/epy/googleapiclient.http.HttpRequest-class.html#execute), which causes intermittent 500 errors (https://stackoverflow.com/questions/46522261/deadline-exceeded-when-airflow-runs-spark-jobs). We should increase this to allow retries for internal Dataproc queries to other services in the short-term; also seeing if the `num_retries` count can be increased at the _google-api-python-client_ level in the long-term.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
6,26607,54,JIRA.13109826.1508195516000.134.1508351580585@Atlassian.JIRA,1273,Chris Riccomini (JIRA),JIRA.13109826.1508195516000@Atlassian.JIRA,,,2017-10-18 11:33:00-07,"[jira] [Resolved] (AIRFLOW-1718) Increase num_retries polling value
 on Dataproc hook","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1718?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Chris Riccomini resolved AIRFLOW-1718.
--------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.10.0

> Increase num_retries polling value on Dataproc hook
> ---------------------------------------------------
>
>                 Key: AIRFLOW-1718
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1718
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Crystal Qian
>            Assignee: Crystal Qian
>            Priority: Minor
>             Fix For: 1.10.0
>
>   Original Estimate: 24h
>  Remaining Estimate: 24h
>
> Currently, `num_retries = 0` when execute() is called (https://google.github.io/google-api-python-client/docs/epy/googleapiclient.http.HttpRequest-class.html#execute), which causes intermittent 500 errors (https://stackoverflow.com/questions/46522261/deadline-exceeded-when-airflow-runs-spark-jobs). We should increase this to allow retries for internal Dataproc queries to other services in the short-term; also seeing if the `num_retries` count can be increased at the _google-api-python-client_ level in the long-term.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
7,26608,54,JIRA.13094153.1502471732000.284.1508352420413@Atlassian.JIRA,1273,Chris Riccomini (JIRA),JIRA.13094153.1502471732000@Atlassian.JIRA,,,2017-10-18 11:47:00-07,"[jira] [Resolved] (AIRFLOW-1506) Improve
 DataprocClusterCreateOperator","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1506?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Chris Riccomini resolved AIRFLOW-1506.
--------------------------------------
    Resolution: Duplicate

> Improve DataprocClusterCreateOperator
> -------------------------------------
>
>                 Key: AIRFLOW-1506
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1506
>             Project: Apache Airflow
>          Issue Type: Improvement
>          Components: contrib, operators
>            Reporter: Yu Ishikawa
>            Assignee: Jessica Chen Fan 
>
> h2. Goals
> {{DataprocClusterCreateOperator}} should support {{$. gceClusterConfig.serviceAccountScopes}} to specify scopes for a Dataproc cluster.
> For example, I guess some users would like to store the result to Google Datastore and like this. In such a case, we have to put additional scopes to access to the produces from the Dataproc cluster.
> https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.regions.clusters#gceclusterconfig



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
8,26609,54,JIRA.13110016.1508253770000.587.1508354880513@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13110016.1508253770000@Atlassian.JIRA,,,2017-10-18 12:28:00-07,[jira] [Commented] (AIRFLOW-1723) Support sendgrid in email backend,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1723?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209874#comment-16209874 ] 

ASF subversion and git services commented on AIRFLOW-1723:
----------------------------------------------------------

Commit 7cb818bbacb2a2695282471591a9e323d8efbf5c in incubator-airflow''s branch refs/heads/master from [~fenglu]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=7cb818b ]

[AIRFLOW-1723] Support sendgrid in email backend

Closes #2695 from fenglu-g/master


> Support sendgrid in email backend 
> ----------------------------------
>
>                 Key: AIRFLOW-1723
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1723
>             Project: Apache Airflow
>          Issue Type: New Feature
>          Components: utils
>    Affects Versions: 1.9.0
>            Reporter: Feng Lu
>            Assignee: Feng Lu
>            Priority: Minor
>             Fix For: 1.10.0
>
>
> Current airflow email backend only supports SMTP, this PR aims to extend email backend and integrate with sendgrid. The airflow config file is also updated to include a [sendgrid] section where user can specify api_key and mail_from. 



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
9,26610,54,JIRA.13110016.1508253770000.591.1508354880588@Atlassian.JIRA,1273,Chris Riccomini (JIRA),JIRA.13110016.1508253770000@Atlassian.JIRA,,,2017-10-18 12:28:00-07,[jira] [Resolved] (AIRFLOW-1723) Support sendgrid in email backend,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1723?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Chris Riccomini resolved AIRFLOW-1723.
--------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.10.0

> Support sendgrid in email backend 
> ----------------------------------
>
>                 Key: AIRFLOW-1723
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1723
>             Project: Apache Airflow
>          Issue Type: New Feature
>          Components: utils
>    Affects Versions: 1.9.0
>            Reporter: Feng Lu
>            Assignee: Feng Lu
>            Priority: Minor
>             Fix For: 1.10.0
>
>
> Current airflow email backend only supports SMTP, this PR aims to extend email backend and integrate with sendgrid. The airflow config file is also updated to include a [sendgrid] section where user can specify api_key and mail_from. 



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
10,666946,23,DM2PR02MB133870E39116A5743F71CD3EAA470@DM2PR02MB1338.namprd02.prod.outlook.com,25068,Go Yamamoto,1464792782.7490.219.camel@mimir.webthing.com,,,2016-06-01 10:46:15-07,Re: Multiple calls to /rps/accessnumber,"Hi Nick,

The unsuccessful calls are intentional.
The Javascript client attempts polling for WebOTT to be authenticated by th=
e user using the Mobile apps.
The calls will turn successful right after you authenticate the Access Numb=
er using the Mobile apps.

About the www-autentivate header, I think we need more information to repro=
duce it.
Accessing our sample Milagro MFA server (https://public.milagro.io/rps/acce=
ssnumber), I got the response header as shown below.

$ curl -v -X POST -d  ""{\""webOTT\"":\""428e2b2975e80e9f2119086c27ad34ea\""}"" h=
ttps://public.milagro.io/rps/accessnumber
(snip)
< HTTP/1.1 401 Unauthorized
< Date: Wed, 01 Jun 2016 17:27:39 GMT
< Server: TornadoServer/4.1
< Strict-Transport-Security: max-age=3D31536000; includeSubDomains
< Access-Control-Allow-Credentials: true
< Access-Control-Allow-Headers: Content-Type, Depth, User-Agent, X-File-Siz=
e, X-Requested-With, X-Requested-By, If-Modified-Since, X-File-Name, Cache-=
Control
< Access-Control-Allow-Methods: GET,PUT,POST,DELETE,OPTIONS
< Content-Length: 0
< Content-Type: text/html; charset=3DUTF-8
< Set-Cookie: mpindemo_session=3D05301611-977A-EA38-B168-CDE28221FEA9; Max-=
Age=3D14400; HttpOnly; Secure
<

Regards,
Go Yamamoto
________________________________________
From: Nick Kew <niq@apache.org>
Sent: Wednesday, June 1, 2016 7:53:02 AM
To: dev@milagro.incubator.apache.org
Subject: Multiple calls to /rps/accessnumber

I''ve been running some M-Pin sessions capturing
and looking at the traffic between the Miracl
Javascript client and Python RP server.

Among other things, I see repeated unsuccessful calls:

POST /rps/accessnumber HTTP/1.1^M
....
Content-Type: text/plain;charset=3DUTF-8^M
Cookie: mpindemo_session=3D""...""^M
^M
{""webOTT"":""13468f969413889e287a69ddc526fef6""}

(aside: that''s JSON being sent as text/plain)

Now the response to this is a 401, with other HTTP headers
whose legitimacy might be in question, and no body:

HTTP/1.1 401 Unauthorized^M
Server: TornadoServer/4.1^M
Www-Authenticate: Authenticate^M
[more]

I guess the ""Authenticate"" value to WWW-Authenticate is handled
by the Javascript, but shouldn''t the browser itself be presented
with something it knows?  Conventional values are Basic or Digest
(with appropriate parameters).

What I''m seeing is what looks like ""undefined"" browser behaviour
in response to an unknown WWW-Authenticate.  That is to say, the
browser sends off an identical request and receives an identical
reply, repeated many times while slower human interaction takes
place as I (successfully or otherwise) log in.

Also, at no point in the interaction is there a successful
call to /rps/accessnumber .  Always 401 as above.

How much of this is intentional, and why?

--
Nick Kew

________________________________
This email message is intended for the use of the person to whom it has bee=
n sent, and may contain information that is confidential or legally protect=
ed. If you are not the intended recipient or have received this message in =
error, you are not authorized to copy, distribute, or otherwise use this me=
ssage or its attachments. Please notify the sender immediately by return e-=
mail and permanently delete this message and any attachments. NTTI3 makes n=
o warranty that this email is error or virus free. Thank you.
________________________________

",f
11,26611,54,JIRA.13109971.1508245727000.668.1508355721741@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13109971.1508245727000@Atlassian.JIRA,,,2017-10-18 12:42:01-07,"[jira] [Commented] (AIRFLOW-1722) Typo in
 airflow_scheduler_autorestart.sh log file name","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1722?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209887#comment-16209887 ] 

ASF subversion and git services commented on AIRFLOW-1722:
----------------------------------------------------------

Commit 97a2393f644ff438986843c04a47754a37ae0bc5 in incubator-airflow''s branch refs/heads/master from [~mschmoyer]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=97a2393 ]

[AIRFLOW-1722] Fix typo in scheduler autorestart output filename

Extra r in /tmp/airflow_scheduler_errors.txt has
been removed.

Closes #2693 from mschmo/AIRFLOW-1722


> Typo in airflow_scheduler_autorestart.sh log file name
> ------------------------------------------------------
>
>                 Key: AIRFLOW-1722
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1722
>             Project: Apache Airflow
>          Issue Type: Task
>            Reporter: Matthew Schmoyer
>            Assignee: Matthew Schmoyer
>            Priority: Trivial
>   Original Estimate: 1m
>  Remaining Estimate: 1m
>
> Rename `airflow_scheduler_errrors.txt` to `airflow_scheduler_errors.txt`



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
12,26612,54,JIRA.13109971.1508245727000.672.1508355721778@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13109971.1508245727000@Atlassian.JIRA,,,2017-10-18 12:42:01-07,"[jira] [Commented] (AIRFLOW-1722) Typo in
 airflow_scheduler_autorestart.sh log file name","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1722?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209889#comment-16209889 ] 

ASF subversion and git services commented on AIRFLOW-1722:
----------------------------------------------------------

Commit fcc3c2f6e5860d5414752ace22160dbe19f68617 in incubator-airflow''s branch refs/heads/v1-9-test from [~mschmoyer]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=fcc3c2f ]

[AIRFLOW-1722] Fix typo in scheduler autorestart output filename

Extra r in /tmp/airflow_scheduler_errors.txt has
been removed.

Closes #2693 from mschmo/AIRFLOW-1722

(cherry picked from commit 97a2393f644ff438986843c04a47754a37ae0bc5)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Typo in airflow_scheduler_autorestart.sh log file name
> ------------------------------------------------------
>
>                 Key: AIRFLOW-1722
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1722
>             Project: Apache Airflow
>          Issue Type: Task
>            Reporter: Matthew Schmoyer
>            Assignee: Matthew Schmoyer
>            Priority: Trivial
>   Original Estimate: 1m
>  Remaining Estimate: 1m
>
> Rename `airflow_scheduler_errrors.txt` to `airflow_scheduler_errors.txt`



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
13,26613,54,JIRA.13109971.1508245727000.669.1508355721751@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13109971.1508245727000@Atlassian.JIRA,,,2017-10-18 12:42:01-07,"[jira] [Commented] (AIRFLOW-1722) Typo in
 airflow_scheduler_autorestart.sh log file name","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1722?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209888#comment-16209888 ] 

ASF subversion and git services commented on AIRFLOW-1722:
----------------------------------------------------------

Commit 97a2393f644ff438986843c04a47754a37ae0bc5 in incubator-airflow''s branch refs/heads/master from [~mschmoyer]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=97a2393 ]

[AIRFLOW-1722] Fix typo in scheduler autorestart output filename

Extra r in /tmp/airflow_scheduler_errors.txt has
been removed.

Closes #2693 from mschmo/AIRFLOW-1722


> Typo in airflow_scheduler_autorestart.sh log file name
> ------------------------------------------------------
>
>                 Key: AIRFLOW-1722
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1722
>             Project: Apache Airflow
>          Issue Type: Task
>            Reporter: Matthew Schmoyer
>            Assignee: Matthew Schmoyer
>            Priority: Trivial
>   Original Estimate: 1m
>  Remaining Estimate: 1m
>
> Rename `airflow_scheduler_errrors.txt` to `airflow_scheduler_errors.txt`



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
14,26614,54,JIRA.13109971.1508245727000.674.1508355721795@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13109971.1508245727000@Atlassian.JIRA,,,2017-10-18 12:42:01-07,"[jira] [Commented] (AIRFLOW-1722) Typo in
 airflow_scheduler_autorestart.sh log file name","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1722?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209890#comment-16209890 ] 

ASF subversion and git services commented on AIRFLOW-1722:
----------------------------------------------------------

Commit fcc3c2f6e5860d5414752ace22160dbe19f68617 in incubator-airflow''s branch refs/heads/v1-9-test from [~mschmoyer]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=fcc3c2f ]

[AIRFLOW-1722] Fix typo in scheduler autorestart output filename

Extra r in /tmp/airflow_scheduler_errors.txt has
been removed.

Closes #2693 from mschmo/AIRFLOW-1722

(cherry picked from commit 97a2393f644ff438986843c04a47754a37ae0bc5)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Typo in airflow_scheduler_autorestart.sh log file name
> ------------------------------------------------------
>
>                 Key: AIRFLOW-1722
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1722
>             Project: Apache Airflow
>          Issue Type: Task
>            Reporter: Matthew Schmoyer
>            Assignee: Matthew Schmoyer
>            Priority: Trivial
>   Original Estimate: 1m
>  Remaining Estimate: 1m
>
> Rename `airflow_scheduler_errrors.txt` to `airflow_scheduler_errors.txt`



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
15,26615,54,JIRA.13107696.1507373278000.746.1508356260494@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13107696.1507373278000@Atlassian.JIRA,,,2017-10-18 12:51:00-07,"[jira] [Commented] (AIRFLOW-1692) Master cannot be checked out on
 windows","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1692?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209905#comment-16209905 ] 

ASF subversion and git services commented on AIRFLOW-1692:
----------------------------------------------------------

Commit 2da48568116f7382258e2678e20ee0f9573d653c in incubator-airflow''s branch refs/heads/master from root
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=2da4856 ]

[AIRFLOW-1692] Change test_views filename to support Windows

Closes #2673 from NielsZeilemaker/AIRFLOW-1692


> Master cannot be checked out on windows
> ---------------------------------------
>
>                 Key: AIRFLOW-1692
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1692
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Niels Zeilemaker
>            Assignee: Niels Zeilemaker
>
> This file:
> /tests/www/test_logs/dag_for_testing_log_view/task_for_testing_log_view/2017-09-01T00:00:00/1.log
> Cannot be created on windows due to the colons in the directory name



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
16,26616,54,JIRA.13107696.1507373278000.751.1508356320530@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13107696.1507373278000@Atlassian.JIRA,,,2017-10-18 12:52:00-07,"[jira] [Commented] (AIRFLOW-1692) Master cannot be checked out on
 windows","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1692?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209906#comment-16209906 ] 

ASF subversion and git services commented on AIRFLOW-1692:
----------------------------------------------------------

Commit 31805e836a04700b5881705f58b33f32f2c8742a in incubator-airflow''s branch refs/heads/v1-9-test from root
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=31805e8 ]

[AIRFLOW-1692] Change test_views filename to support Windows

Closes #2673 from NielsZeilemaker/AIRFLOW-1692

(cherry picked from commit 2da48568116f7382258e2678e20ee0f9573d653c)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Master cannot be checked out on windows
> ---------------------------------------
>
>                 Key: AIRFLOW-1692
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1692
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Niels Zeilemaker
>            Assignee: Niels Zeilemaker
>             Fix For: 1.9.0
>
>
> This file:
> /tests/www/test_logs/dag_for_testing_log_view/task_for_testing_log_view/2017-09-01T00:00:00/1.log
> Cannot be created on windows due to the colons in the directory name



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
17,26617,54,JIRA.13107696.1507373278000.754.1508356320574@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13107696.1507373278000@Atlassian.JIRA,,,2017-10-18 12:52:00-07,"[jira] [Commented] (AIRFLOW-1692) Master cannot be checked out on
 windows","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1692?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209907#comment-16209907 ] 

ASF subversion and git services commented on AIRFLOW-1692:
----------------------------------------------------------

Commit 31805e836a04700b5881705f58b33f32f2c8742a in incubator-airflow''s branch refs/heads/v1-9-test from root
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=31805e8 ]

[AIRFLOW-1692] Change test_views filename to support Windows

Closes #2673 from NielsZeilemaker/AIRFLOW-1692

(cherry picked from commit 2da48568116f7382258e2678e20ee0f9573d653c)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Master cannot be checked out on windows
> ---------------------------------------
>
>                 Key: AIRFLOW-1692
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1692
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Niels Zeilemaker
>            Assignee: Niels Zeilemaker
>             Fix For: 1.9.0
>
>
> This file:
> /tests/www/test_logs/dag_for_testing_log_view/task_for_testing_log_view/2017-09-01T00:00:00/1.log
> Cannot be created on windows due to the colons in the directory name



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
18,26618,54,JIRA.13107696.1507373278000.758.1508356320631@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13107696.1507373278000@Atlassian.JIRA,,,2017-10-18 12:52:00-07,"[jira] [Resolved] (AIRFLOW-1692) Master cannot be checked out on
 windows","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1692?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1692.
-------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2673
[https://github.com/apache/incubator-airflow/pull/2673]

> Master cannot be checked out on windows
> ---------------------------------------
>
>                 Key: AIRFLOW-1692
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1692
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Niels Zeilemaker
>            Assignee: Niels Zeilemaker
>             Fix For: 1.9.0
>
>
> This file:
> /tests/www/test_logs/dag_for_testing_log_view/task_for_testing_log_view/2017-09-01T00:00:00/1.log
> Cannot be created on windows due to the colons in the directory name



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
19,26619,54,JIRA.13107919.1507538960000.790.1508356500480@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13107919.1507538960000@Atlassian.JIRA,,,2017-10-18 12:55:00-07,"[jira] [Commented] (AIRFLOW-1694) Hive Hooks: Python 3 does not
 have an `itertools.izip` function","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1694?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209916#comment-16209916 ] 

ASF subversion and git services commented on AIRFLOW-1694:
----------------------------------------------------------

Commit c6e5ae7c57224ceb52cbf8d15b3362afd3616053 in incubator-airflow''s branch refs/heads/v1-9-test from Yati Sagade
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=c6e5ae7 ]

[AIRFLOW-1694] Stop using itertools.izip

Itertools.zip does not exist in Python 3.

Closes #2674 from yati-sagade/fix-py3-zip

(cherry picked from commit 6110139a8fd7069c87e3c99b3976865576180f67)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Hive Hooks: Python 3 does not have an `itertools.izip` function
> ---------------------------------------------------------------
>
>                 Key: AIRFLOW-1694
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1694
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: hive_hooks
>            Reporter: Yati
>             Fix For: 1.9.0
>
>
> In `hooks/hive_hooks.py`, we have a use of `itertools.izip()`, which would not work in Python 3, but the builtin `zip()` returns an iterator. `six.moves` can be used from either Python 2/3 to import such objects that have been moved around.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
20,26620,54,JIRA.13107919.1507538960000.796.1508356500543@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13107919.1507538960000@Atlassian.JIRA,,,2017-10-18 12:55:00-07,"[jira] [Resolved] (AIRFLOW-1694) Hive Hooks: Python 3 does not have
 an `itertools.izip` function","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1694?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1694.
-------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2674
[https://github.com/apache/incubator-airflow/pull/2674]

> Hive Hooks: Python 3 does not have an `itertools.izip` function
> ---------------------------------------------------------------
>
>                 Key: AIRFLOW-1694
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1694
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: hive_hooks
>            Reporter: Yati
>             Fix For: 1.9.0
>
>
> In `hooks/hive_hooks.py`, we have a use of `itertools.izip()`, which would not work in Python 3, but the builtin `zip()` returns an iterator. `six.moves` can be used from either Python 2/3 to import such objects that have been moved around.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
21,875218,186,CAMPvFO-RQSXP+zj++2JO-x4Pn6b4odjPjEXxo=XDDE9c07Cy+w@mail.gmail.com,30911,Dascalita Dragos,978B4ADE-A89D-492D-89E7-C7E7F450EDEA@adobe.com,30917.0,Tyson Norris,2017-05-01 17:06:23-07,Re: concurrent requests on actions,"Why not considering giving developers options to control the level of
concurrency, instead of deciding on their behalf ? I think that cases such
as the ones Tyson is mentioning make sense; unless we build something that
will estimate the resources needed by an action automatically, letting the
developer specify it instead, might be a mean of ""supervised learning"" that
the system can use further in order to make decisions at runtime.

Dragos
On Mon, May 1, 2017 at 4:46 PM Tyson Norris <tnorris@adobe.com> wrote:

> Sure, many of our use cases are mostly stitching together API calls, as
> opposed to being CPU bound - consider a simple javascript action that wra=
ps
> a downstream http API (or many APIs).
>
> What do you mean by =E2=80=9Cmore efficient packing of I/O-bound processe=
s=E2=80=9D? For
> example, in the case of actions that wrap an API call, typically the acti=
on
> developer is NOT the owner of the API call, so its not clear how to handl=
e
> this more efficiently than by creating a nodejs action that proxies
> (multiple concurrent) network requests around, but does little actual
> computing besides possibly some minor request/response parsing etc. In ou=
r
> cases we our much more likely to run into bottlenecks with concurrent use=
rs
> without any concurrent container usage support, unless we greatly over
> provision clusters which will provide drastic reduction in efficiency. It
> is much simpler to provision for anticipated or immediate load changes wh=
en
> each new container can support multiple concurrent requests, instead of
> each new container supporting a single request.
>
> More tests demonstrating these cases (e.g. API wrappers, and
> compute-centric actions) will help this discussion, I=E2=80=99ll work on =
providing
> those.
>
> Thanks
> Tyson
>
> > On May 1, 2017, at 3:24 PM, Nick Mitchell <moosevan@gmail.com> wrote:
> >
> > won''t this only be of benefit for invocations that are mostly sleepy?
> e.g.
> > I/O-bound? because if an action uses CPU flat-out, then there is no
> > throughput win to be had (by increasing the parallelism of CPU-bound
> > processes), given the small CPU sliver that each container gets -- unle=
ss
> > there is a concomitant increase in concurrency, i.e. CPU slice?
> >
> > if so, then my gut tells me that there are more general solutions to th=
is
> > (i.e. more efficient packing of I/O-bound processes)
> >
> > On Mon, May 1, 2017 at 5:36 PM, Tyson Norris <tnorris@adobe.com> wrote:
> >
> >> Thanks Markus.
> >>
> >> Can you direct me to the travis job where I can see the 40+RPS? I agre=
e
> >> that is a big gap and would like to take a look - I didn=E2=80=99t see=
 anything
> in
> >>
> https://na01.safelinks.protection.outlook.com/?url=3Dhttps%%%%3A%%%%2F%%%%2Ftravis=
-ci.org%%%%2Fopenwhisk%%%%2Fopenwhisk%%%%2Fbuilds%%%%2F226918375&data=3D02%%%%7C01%%%%7C%%%%7C8a=
29a490bc6545d4460408d490e0c979%%%%7Cfa7b1b5a7b34438794aed2c178decee1%%%%7C0%%%%7C0%%%%7=
C636292742509382993&sdata=3D2RiV65g7zvR07ditlzosUxsrWvQIo8WfpMvr7g2JHWY%%%%3D&=
reserved=3D0
> ; maybe I=E2=80=99m
> >> looking in the wrong place.
> >>
> >> I will work on putting together a PR to discuss.
> >>
> >> Thanks
> >> Tyson
> >>
> >>
> >> On May 1, 2017, at 2:22 PM, Markus Th=C3=B6mmes <markusthoemmes@me.com
> <mailto:
> >> markusthoemmes@me.com>> wrote:
> >>
> >> Hi Tyson,
> >>
> >> Sounds like you did a lot of investigation here, thanks a lot for that
> :)
> >>
> >> Seeing the numbers, 4 RPS in the ""off"" case seem very odd. The Travis
> >> build that runs the current system as is also reaches 40+ RPS. So we''d
> need
> >> to look at a mismatch here.
> >>
> >> Other than that I''d indeed suspect a great improvement in throughput
> from
> >> your work!
> >>
> >> Implementationwise I don''t have a strong opionion but it might be wort=
h
> to
> >> discuss the details first and land your impl. once all my staging is
> done
> >> (the open PRs). That''d ease git operation. If you want to discuss your
> >> impl. now I suggest you send a PR to my new-containerpool branch and
> share
> >> the diff here for discussion.
> >>
> >> Cheers,
> >> Markus
> >>
> >> Von meinem iPhone gesendet
> >>
> >> Am 01.05.2017 um 23:16 schrieb Tyson Norris <tnorris@adobe.com<mailto:
> tnor
> >> ris@adobe.com>>:
> >>
> >> Hi Michael -
> >> Concurrent requests would only reuse a running/warm container for
> >> same-action requests. So if the action has bad/rogue behavior, it will
> >> limit its own throughput only, not the throughput of other actions.
> >>
> >> This is ignoring the current implementation of the activation feed,
> which
> >> I guess is susceptible to a flood of slow running activations. If thos=
e
> >> activations are for the same action, running concurrently should be
> enough
> >> to not starve the system for other activations (with faster actions) t=
o
> be
> >> processed. In case they are all different actions, OR not allowed to
> >> execute concurrently, then in the name of quality-of-service, it may
> also
> >> be desirable to reserve some resources (i.e. separate activation feeds=
)
> for
> >> known-to-be-faster actions, so that fast-running actions are not
> penalized
> >> for existing alongside the slow-running actions. This would require a
> more
> >> complicated throughput test to demonstrate.
> >>
> >> Thanks
> >> Tyson
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >> On May 1, 2017, at 1:13 PM, Michael Marth <mmarth@adobe.com<mailto:
> mmart
> >> h@adobe.com><mailto:mmarth@adobe.com>> wrote:
> >>
> >> Hi Tyson,
> >>
> >> 10x more throughput, i.e. Being able to run OW at 1/10 of the cost -
> >> definitely worth looking into :)
> >>
> >> Like Rodric mentioned before I figured some features might become more
> >> complex to implement, like billing, log collection, etc. But given suc=
h
> a
> >> huge advancement on throughput that would be worth it IMHO.
> >> One thing I wonder about, though, is resilience against rogue actions.
> If
> >> an action is blocking (in the Node-sense, not the OW-sense), would tha=
t
> not
> >> block Node=E2=80=99s event loop and thus block other actions in that c=
ontainer?
> One
> >> could argue, though, that this rogue action would only block other
> >> executions of itself, not affect other actions or customers. WDYT?
> >>
> >> Michael
> >>
> >>
> >>
> >>
> >> On 01/05/17 17:54, ""Tyson Norris"" <tnorris@adobe.com<mailto:tnor
> >> ris@adobe.com><mailto:tnorris@adobe.com>> wrote:
> >>
> >> Hi All -
> >> I created this issue some time ago to discuss concurrent requests on
> >> actions: [1] Some people mentioned discussing on the mailing list so I
> >> wanted to start that discussion.
> >>
> >> I=E2=80=99ve been doing some testing against this branch with Markus=
=E2=80=99s work on
> the
> >> new container pool: [2]
> >> I believe there are a few open PRs in upstream related to this work, b=
ut
> >> this seemed like a reasonable place to test against a variety of the
> >> reactive invoker and pool changes - I=E2=80=99d be interested to hear =
if anyone
> >> disagrees.
> >>
> >> Recently I ran some tests
> >> - with =E2=80=9Cthroughput.sh=E2=80=9D in [3] using concurrency of 10 =
(it will also be
> >> interesting to test with the --rps option in loadtest...)
> >> - using a change that checks actions for an annotation =E2=80=9Cmax-co=
ncurrent=E2=80=9D
> >> (in case there is some reason actions want to enforce current behavior
> of
> >> strict serial invocation per container?)
> >> - when scheduling an actions against the pool, if there is a currently
> >> =E2=80=9Cbusy=E2=80=9D container with this action, AND the annotation =
is present for
> this
> >> action, AND concurrent requests < max-concurrent, the this container i=
s
> >> used to invoke the action
> >>
> >> Below is a summary (approx 10x throughput with concurrent requests) an=
d
> I
> >> would like to get some feedback on:
> >> - what are the cases for having actions that require container isolati=
on
> >> per request? node is a good example that should NOT need this, but may=
be
> >> there are cases where it is more important, e.g. if there are cases
> where
> >> stateful actions are used?
> >> - log collection approach: I have not attempted to resolve log
> collection
> >> issues; I would expect that revising the log sentinel marker to includ=
e
> the
> >> activation ID would help, and logs stored with the activation would
> include
> >> interleaved activations in some cases (which should be expected with
> >> concurrent request processing?), and require some different logic to
> >> process logs after an activation completes (e.g. logs emitted at the
> start
> >> of an activation may have already been collected as part of another
> >> activation=E2=80=99s log collection, etc).
> >> - advice on creating a PR to discuss this in more detail - should I wa=
it
> >> for more of the container pooling changes to get to master? Or submit =
a
> PR
> >> to Markus=E2=80=99s new-containerpool branch?
> >>
> >> Thanks
> >> Tyson
> >>
> >> Summary of loadtest report with max-concurrent ENABLED (I used 10000,
> but
> >> this limit wasn=E2=80=99t reached):
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO Target URL:
> >> https://na01.safelinks.protection.outlook.com/?url=3D
> >> https%%%%3A%%%%2F%%%%2F192.168.99.100%%%%2Fapi%%%%2Fv1%%%%2Fnamespaces%%%%2F_%%%%2Factions%%%%
> >> 2FnoopThroughputConcurrent%%%%3Fblocking%%%%3Dtrue&data=3D02%%%%7C01%%%%7C%%%%
> >> 7C796dfc317cde44c9e83908d490ce7faa%%%%7Cfa7b1b5a7b34438794aed2c178de
> >> cee1%%%%7C0%%%%7C0%%%%7C636292663971484169&sdata=3Duv9kYh5uBoIDXDlEivgMClJ6TDGD=
mz
> >> TdKOgZPZjkBko%%%%3D&reserved=3D0
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO Max requests:
> 10000
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO Concurrency level:   10
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO Agent:
> >> keepalive
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO Completed requests:
> 10000
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO Total errors:        0
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO Total time:
> >> 241.900480915 s
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO Requests per second: 41
> >> [Sat Apr 29 2017 16:32:37 GMT+0000 (UTC)] INFO Mean latency:
> 241.7
> >> ms
> >>
> >> Summary of loadtest report with max-concurrent DISABLED:
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO Target URL:
> >> https://na01.safelinks.protection.outlook.com/?url=3D
> >> https%%%%3A%%%%2F%%%%2F192.168.99.100%%%%2Fapi%%%%2Fv1%%%%2Fnamespaces%%%%2F_%%%%
> >> 2Factions%%%%2FnoopThroughput%%%%3Fblocking%%%%3Dtrue&data=3D02%%%%7C01%%%%7C%%%%
> >> 7C796dfc317cde44c9e83908d490ce7faa%%%%7Cfa7b1b5a7b34438794aed2c178de
> >> cee1%%%%7C0%%%%7C0%%%%7C636292663971494178&sdata=3Dh6sMS0s2WQXFMcLg8sSAq%%%%2F56p%%%%
> >> 2F%%%%2BmVmth%%%%2B%%%%2FsqTOVmeAc%%%%3D&reserved=3D0
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO Max requests:
> 10000
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO Concurrency level:   10
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO Agent:
> >> keepalive
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO Completed requests:
> 10000
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO Total errors:        19
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO Total time:
> >> 2770.658048791 s
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO Requests per second: 4
> >> [Sat Apr 29 2017 19:21:51 GMT+0000 (UTC)] INFO Mean latency:
> 2767.3
> >> ms
> >>
> >>
> >>
> >>
> >>
> >> [1] https://na01.safelinks.protection.outlook.com/?url=3D
> >> https%%%%3A%%%%2F%%%%2Fgithub.com%%%%2Fopenwhisk%%%%2Fopenwhisk%%%%
> >> 2Fissues%%%%2F2026&data=3D02%%%%7C01%%%%7C%%%%7C796dfc317cde44c9e83908d490ce7faa%%%%
> >>
> 7Cfa7b1b5a7b34438794aed2c178decee1%%%%7C0%%%%7C0%%%%7C636292663971494178&sdata=3De=
g%%%%
> >> 2FsSPRQYapQHPNbfMLCW%%%%2B%%%%2F1yAqn8zSo0nJ5yQjmkns%%%%3D&reserved=3D0
> >> [2] https://na01.safelinks.protection.outlook.com/?url=3D
> >> https%%%%3A%%%%2F%%%%2Fgithub.com%%%%2Fmarkusthoemmes%%%%2Fopenwhisk%%%%
> >>
> 2Ftree%%%%2Fnew-containerpool&data=3D02%%%%7C01%%%%7C%%%%7C796dfc317cde44c9e83908d490=
ce
> >> 7faa%%%%7Cfa7b1b5a7b34438794aed2c178decee1%%%%7C0%%%%7C0%%%%
> >> 7C636292663971494178&sdata=3DIZcN9szW71SdL%%%%2ByssJm9k3EgzaU4b5idI5yFWyR=
7%%%%
> >> 2BL4%%%%3D&reserved=3D0
> >> [3] https://na01.safelinks.protection.outlook.com/?url=3D
> >> https%%%%3A%%%%2F%%%%2Fgithub.com%%%%2Fmarkusthoemmes%%%%2Fopenwhisk-
> >> performance&data=3D02%%%%7C01%%%%7C%%%%7C796dfc317cde44c9e83908d490ce7faa%%%%
> >> 7Cfa7b1b5a7b34438794aed2c178decee1%%%%7C0%%%%7C0%%%%7C636292663971494178&sdata=
=3D
> >> WkOlhTsplKQm6mUkZtwWLXzCrQg%%%%2FUmKtqOErIw6gFAA%%%%3D&reserved=3D0
> >>
> >>
> >>
>
>
",f
22,26621,54,JIRA.13107919.1507538960000.789.1508356500471@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13107919.1507538960000@Atlassian.JIRA,,,2017-10-18 12:55:00-07,"[jira] [Commented] (AIRFLOW-1694) Hive Hooks: Python 3 does not
 have an `itertools.izip` function","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1694?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209915#comment-16209915 ] 

ASF subversion and git services commented on AIRFLOW-1694:
----------------------------------------------------------

Commit 6110139a8fd7069c87e3c99b3976865576180f67 in incubator-airflow''s branch refs/heads/master from Yati Sagade
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=6110139 ]

[AIRFLOW-1694] Stop using itertools.izip

Itertools.zip does not exist in Python 3.

Closes #2674 from yati-sagade/fix-py3-zip


> Hive Hooks: Python 3 does not have an `itertools.izip` function
> ---------------------------------------------------------------
>
>                 Key: AIRFLOW-1694
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1694
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: hive_hooks
>            Reporter: Yati
>             Fix For: 1.9.0
>
>
> In `hooks/hive_hooks.py`, we have a use of `itertools.izip()`, which would not work in Python 3, but the builtin `zip()` returns an iterator. `six.moves` can be used from either Python 2/3 to import such objects that have been moved around.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
23,26622,54,JIRA.13108128.1507590025000.806.1508356682124@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13108128.1507590025000@Atlassian.JIRA,,,2017-10-18 12:58:02-07,"[jira] [Commented] (AIRFLOW-1698) Remove confusing SCHEDULER_RUNS
 env var from systemd scripts","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1698?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209920#comment-16209920 ] 

ASF subversion and git services commented on AIRFLOW-1698:
----------------------------------------------------------

Commit b464d23a6d9799b75ae53b3f858e779a48115fed in incubator-airflow''s branch refs/heads/master from [~maxime.beauchemin@apache.org]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=b464d23 ]

[AIRFLOW-1698] Remove SCHEDULER_RUNS env var in systemd

In the very early days, the Airflow scheduler
needed to be restarted
every so often to take new DAG_FOLDERS mutations
into account properly. This is no longer
required.

Closes #2677 from mistercrunch/scheduler_runs


> Remove confusing SCHEDULER_RUNS env var from systemd scripts
> ------------------------------------------------------------
>
>                 Key: AIRFLOW-1698
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1698
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Maxime Beauchemin
>             Fix For: 1.9.0
>
>
> In the very early days, the Airflow scheduler needed to be restarted
> every so often to take new DAG_FOLDERS mutations into account properly.
> This is no longer needed, so I''m removing artifacts in the
> systemd scripts.
> I''m unclear whether daemon scripts belong here. I can see how it''s
> useful to have this somewhere,
> but it sits on the edge of what should be in the repo and can get
> out-of-sync.
> As a result it ends up creating more confusion than help.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
24,26623,54,JIRA.13108128.1507590025000.808.1508356682144@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13108128.1507590025000@Atlassian.JIRA,,,2017-10-18 12:58:02-07,"[jira] [Commented] (AIRFLOW-1698) Remove confusing SCHEDULER_RUNS
 env var from systemd scripts","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1698?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16209921#comment-16209921 ] 

ASF subversion and git services commented on AIRFLOW-1698:
----------------------------------------------------------

Commit 00dd06eb0a387f85c1f16ce3aa17fc36473990bc in incubator-airflow''s branch refs/heads/v1-9-test from [~maxime.beauchemin@apache.org]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=00dd06e ]

[AIRFLOW-1698] Remove SCHEDULER_RUNS env var in systemd

In the very early days, the Airflow scheduler
needed to be restarted
every so often to take new DAG_FOLDERS mutations
into account properly. This is no longer
required.

Closes #2677 from mistercrunch/scheduler_runs

(cherry picked from commit b464d23a6d9799b75ae53b3f858e779a48115fed)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Remove confusing SCHEDULER_RUNS env var from systemd scripts
> ------------------------------------------------------------
>
>                 Key: AIRFLOW-1698
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1698
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Maxime Beauchemin
>             Fix For: 1.9.0
>
>
> In the very early days, the Airflow scheduler needed to be restarted
> every so often to take new DAG_FOLDERS mutations into account properly.
> This is no longer needed, so I''m removing artifacts in the
> systemd scripts.
> I''m unclear whether daemon scripts belong here. I can see how it''s
> useful to have this somewhere,
> but it sits on the edge of what should be in the repo and can get
> out-of-sync.
> As a result it ends up creating more confusion than help.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
25,26624,54,JIRA.13108128.1507590025000.813.1508356682202@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13108128.1507590025000@Atlassian.JIRA,,,2017-10-18 12:58:02-07,"[jira] [Resolved] (AIRFLOW-1698) Remove confusing SCHEDULER_RUNS
 env var from systemd scripts","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1698?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1698.
-------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2677
[https://github.com/apache/incubator-airflow/pull/2677]

> Remove confusing SCHEDULER_RUNS env var from systemd scripts
> ------------------------------------------------------------
>
>                 Key: AIRFLOW-1698
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1698
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Maxime Beauchemin
>             Fix For: 1.9.0
>
>
> In the very early days, the Airflow scheduler needed to be restarted
> every so often to take new DAG_FOLDERS mutations into account properly.
> This is no longer needed, so I''m removing artifacts in the
> systemd scripts.
> I''m unclear whether daemon scripts belong here. I can see how it''s
> useful to have this somewhere,
> but it sits on the edge of what should be in the repo and can get
> out-of-sync.
> As a result it ends up creating more confusion than help.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
26,26625,54,JIRA.13110477.1508360188000.1429.1508360220031@Atlassian.JIRA,2133,Trevor Edwards (JIRA),JIRA.13110477.1508360188000@Atlassian.JIRA,,,2017-10-18 13:57:00-07,[jira] [Created] (AIRFLOW-1732) Improve Dataflow Hook Logging,"Trevor Edwards created AIRFLOW-1732:
---------------------------------------

             Summary: Improve Dataflow Hook Logging
                 Key: AIRFLOW-1732
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1732
             Project: Apache Airflow
          Issue Type: Bug
            Reporter: Trevor Edwards
            Assignee: Trevor Edwards


Logging output for Dataflow hook could be a bit more useful. Namely:

# Log the command that is used for opening a dataflow subprocess
# If the dataflow subprocess experiences an error, log that error at warning (instead of debug)

Currently, errors are extremely opaque, only showing the exit code. The command used is unknown and the error is logged, but it is at the debug level which makes it difficult to find.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
27,26626,54,JIRA.13110524.1508368853000.2903.1508368860208@Atlassian.JIRA,1301,Dan Davydov (JIRA),JIRA.13110524.1508368853000@Atlassian.JIRA,,,2017-10-18 16:21:00-07,[jira] [Created] (AIRFLOW-1733) BashOperator readline can hang,"Dan Davydov created AIRFLOW-1733:
------------------------------------

             Summary: BashOperator readline can hang
                 Key: AIRFLOW-1733
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1733
             Project: Apache Airflow
          Issue Type: Bug
            Reporter: Dan Davydov


If the child bash process dies for some reason, the BashOperator will hang since we use a blocking readline call to get output from the child. Instead we should read asynchronously or poll the child bash process like described in the solutions here:
https://stackoverflow.com/questions/18421757/live-output-from-subprocess-command



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
28,26627,54,JIRA.13110554.1508379412000.4088.1508379420026@Atlassian.JIRA,2138,Ace Haidrey (JIRA),JIRA.13110554.1508379412000@Atlassian.JIRA,,,2017-10-18 19:17:00-07,"[jira] [Created] (AIRFLOW-1734) Sqoop Operator contains logic
 errors & needs options to pass more sqoop options","Ace Haidrey created AIRFLOW-1734:
------------------------------------

             Summary: Sqoop Operator contains logic errors & needs options to pass more sqoop options
                 Key: AIRFLOW-1734
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1734
             Project: Apache Airflow
          Issue Type: Bug
          Components: contrib
            Reporter: Ace Haidrey
            Assignee: Ace Haidrey


After taking a look at the Sqoop Operator I have found a number of errors with it. I will describe them in depth on the PR I will make, but it includes passign wrong parameters, not hiding the users raw password in the logs (though a method to do that had been created in the hook, wrong if conditions, and the inability to add other sqoop options that would make sense to have the option to pass those.

I have made some remarks in past commits about it too in the case I''m misinterpreting but regardless there are definitely errors.
https://github.com/apache/incubator-airflow/pull/2177#pullrequestreview-70046796




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
29,26628,54,JIRA.13110554.1508379412000.4199.1508380500118@Atlassian.JIRA,2138,Ace Haidrey (JIRA),JIRA.13110554.1508379412000@Atlassian.JIRA,,,2017-10-18 19:35:00-07,"[jira] [Updated] (AIRFLOW-1734) Sqoop Operator contains logic
 errors & needs options to pass more sqoop options","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1734?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Ace Haidrey updated AIRFLOW-1734:
---------------------------------
    Description: 
After taking a look at the Sqoop Operator I have found a number of errors with it. I will describe them in depth on the PR I will make, but it includes assign wrong parameters, not hiding the users raw password in the logs (though a method to do that had been created in the hook, wrong if conditions, and the inability to add other sqoop options that would make sense to have the option to pass those.

I have made some remarks in past commits about it too in the case I''m misinterpreting but regardless there are definitely errors.
https://github.com/apache/incubator-airflow/pull/2177#pullrequestreview-70046796


  was:
After taking a look at the Sqoop Operator I have found a number of errors with it. I will describe them in depth on the PR I will make, but it includes passign wrong parameters, not hiding the users raw password in the logs (though a method to do that had been created in the hook, wrong if conditions, and the inability to add other sqoop options that would make sense to have the option to pass those.

I have made some remarks in past commits about it too in the case I''m misinterpreting but regardless there are definitely errors.
https://github.com/apache/incubator-airflow/pull/2177#pullrequestreview-70046796



> Sqoop Operator contains logic errors & needs options to pass more sqoop options
> -------------------------------------------------------------------------------
>
>                 Key: AIRFLOW-1734
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1734
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: contrib
>            Reporter: Ace Haidrey
>            Assignee: Ace Haidrey
>              Labels: patch
>
> After taking a look at the Sqoop Operator I have found a number of errors with it. I will describe them in depth on the PR I will make, but it includes assign wrong parameters, not hiding the users raw password in the logs (though a method to do that had been created in the hook, wrong if conditions, and the inability to add other sqoop options that would make sense to have the option to pass those.
> I have made some remarks in past commits about it too in the case I''m misinterpreting but regardless there are definitely errors.
> https://github.com/apache/incubator-airflow/pull/2177#pullrequestreview-70046796



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
30,26629,54,JIRA.13110554.1508379412000.4326.1508382180066@Atlassian.JIRA,2138,Ace Haidrey (JIRA),JIRA.13110554.1508379412000@Atlassian.JIRA,,,2017-10-18 20:03:00-07,"[jira] [Updated] (AIRFLOW-1734) Sqoop Operator contains logic
 errors & needs options to pass more sqoop options","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1734?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Ace Haidrey updated AIRFLOW-1734:
---------------------------------
    Description: 
After taking a look at the Sqoop Operator I have found a number of errors with it. I will describe them in depth on the PR I will make, but it includes assign wrong parameters, not hiding the users raw password in the logs (though a method to do that had been created in the hook, wrong if conditions, and the inability to add other sqoop options that would make sense to have the option to pass those.

I have made some remarks in past commits about it too in the case I''m misinterpreting but regardless there are definitely errors.
https://github.com/apache/incubator-airflow/pull/2177#pullrequestreview-70046796

Here is my PR with change by change explanation:
https://github.com/apache/incubator-airflow/pull/2703/files#diff-8e77f042c2e060bbfd60828431a91e9bL131

  was:
After taking a look at the Sqoop Operator I have found a number of errors with it. I will describe them in depth on the PR I will make, but it includes assign wrong parameters, not hiding the users raw password in the logs (though a method to do that had been created in the hook, wrong if conditions, and the inability to add other sqoop options that would make sense to have the option to pass those.

I have made some remarks in past commits about it too in the case I''m misinterpreting but regardless there are definitely errors.
https://github.com/apache/incubator-airflow/pull/2177#pullrequestreview-70046796



> Sqoop Operator contains logic errors & needs options to pass more sqoop options
> -------------------------------------------------------------------------------
>
>                 Key: AIRFLOW-1734
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1734
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: contrib
>            Reporter: Ace Haidrey
>            Assignee: Ace Haidrey
>              Labels: patch
>
> After taking a look at the Sqoop Operator I have found a number of errors with it. I will describe them in depth on the PR I will make, but it includes assign wrong parameters, not hiding the users raw password in the logs (though a method to do that had been created in the hook, wrong if conditions, and the inability to add other sqoop options that would make sense to have the option to pass those.
> I have made some remarks in past commits about it too in the case I''m misinterpreting but regardless there are definitely errors.
> https://github.com/apache/incubator-airflow/pull/2177#pullrequestreview-70046796
> Here is my PR with change by change explanation:
> https://github.com/apache/incubator-airflow/pull/2703/files#diff-8e77f042c2e060bbfd60828431a91e9bL131



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
31,26630,54,JIRA.13110563.1508383237000.4484.1508383260031@Atlassian.JIRA,2138,Ace Haidrey (JIRA),JIRA.13110563.1508383237000@Atlassian.JIRA,,,2017-10-18 20:21:00-07,"[jira] [Created] (AIRFLOW-1735) Log files do not show up for
 unscheduled dags","Ace Haidrey created AIRFLOW-1735:
------------------------------------

             Summary: Log files do not show up for unscheduled dags
                 Key: AIRFLOW-1735
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1735
             Project: Apache Airflow
          Issue Type: Bug
            Reporter: Ace Haidrey
            Assignee: Ace Haidrey
         Attachments: Screen Shot 2017-06-21 at 10.53.28 PM.png

I created a new dag with a schedule of {{@once}} and left it unscheduled.  I ran different tasks a few times from the UI but the logs never showed up.  Instead I''d see messages like the following:
{code}
*** Log file isn''t local.
*** Fetching here: http://al-tools2.savagebeast.com:18700/log/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21
*** Failed to fetch log file from worker.
{code}

There is a log file for this task, but it seems to be at a slightly different path on the machine:

{code}
(airflow)hadoop@al-tools2:~/.virtualenvs/airflow$ ls -lth ./airflow_home/logs/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21T00\:00\:00
-rw-rw-rw- 1 hadoop hadoop 5.2K Jun 21 21:57 ./airflow_home/logs/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21T00:00:00
{code}

And indeed, when I change the URL to WEB_SERVER/admin/airflow/log?task_id=TASK_ID_request&dag_id=DAG_ID&execution_date=2017-06-21T00:00:00, I see the actual log:

{code}
*** Reading local log.
[2017-06-21 21:57:20,931] {models.py:172} INFO - Filling up the DagBag from ~/analytics_kochava_import_dag.py
[2017-06-21 21:57:21,307] {analytics_kochava_import_dag.py:139} INFO - Kochava app IDs 
...
[2017-06-21 21:57:26,400] {jobs.py:2083} INFO - Task exited with return code 0
{code}

I''ve added a screen shot of it below.

*FIX:*
I have noticed in www/view.py the issue is not have the time component 00:00:00 and we can get that quite easily if it doesnt have it. You can see in this PR I made.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
32,631121,147,1081875729.2270.1.camel@gideon.rkunet.org,21601,Rolf Kulemann,407C18F1.1030103@wyona.com,29.0,Michael Wechner,2004-04-13 10:02:10-07,Re: Clone Proposal,"On Tue, 2004-04-13 at 18:44, Michael Wechner wrote:
> On IRC we did some brainstorming on introducing a clone ""build file"" for 
> publications.
> 
> Each publication has some generic and some specific parts, therefore it 
> would probably make sense to do it as follows:
> 
> 
> .../lenya/bin/clone.xml  (for the generic parts)
> 
> and
> 
> .../lenya/pubs/@PUB@/bin/clone.xml (for the specific parts)
> 
> whereas I guess the specific clone.xml imports the generic one (or is it 
> the opposite way around).
> 
> Anyway, for the beginning we could do this for the default and blog 
> publication.

+1

> 
> Also I think we should add two new publication instances:
> 
> my-default and my-blog where we have slight changes re the layout for 
> instance.

Can u please explain what they are for? What is the difference to blog
and default?

-- 
Regards,

    Rolf Kulemann


---------------------------------------------------------------------
To unsubscribe, e-mail: lenya-dev-unsubscribe@cocoon.apache.org
For additional commands, e-mail: lenya-dev-help@cocoon.apache.org


",f
33,26631,54,JIRA.13110563.1508383237000.4499.1508383560041@Atlassian.JIRA,2138,Ace Haidrey (JIRA),JIRA.13110563.1508383237000@Atlassian.JIRA,,,2017-10-18 20:26:00-07,"[jira] [Updated] (AIRFLOW-1735) Log files do not show up for
 unscheduled dags","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1735?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Ace Haidrey updated AIRFLOW-1735:
---------------------------------
    Description: 
I created a new dag with a schedule of {{@once}} and left it unscheduled.  I ran different tasks a few times from the UI but the logs never showed up.  Instead I''d see messages like the following:
{code}
*** Log file isn''t local.
*** Fetching here: http://al-tools2.savagebeast.com:18700/log/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21
*** Failed to fetch log file from worker.
{code}

There is a log file for this task, but it seems to be at a slightly different path on the machine:

{code}
(airflow)hadoop@al-tools2:~/.virtualenvs/airflow$ ls -lth ./airflow_home/logs/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21T00\:00\:00
-rw-rw-rw- 1 hadoop hadoop 5.2K Jun 21 21:57 ./airflow_home/logs/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21T00:00:00
{code}

And indeed, when I change the URL to WEB_SERVER/admin/airflow/log?task_id=TASK_ID_request&dag_id=DAG_ID&execution_date=2017-06-21T00:00:00, I see the actual log:

{code}
*** Reading local log.
[2017-06-21 21:57:20,931] {models.py:172} INFO - Filling up the DagBag from ~/analytics_kochava_import_dag.py
[2017-06-21 21:57:21,307] {analytics_kochava_import_dag.py:139} INFO - Kochava app IDs 
...
[2017-06-21 21:57:26,400] {jobs.py:2083} INFO - Task exited with return code 0
{code}

I''ve added a screen shot of it below.

*FIX:*
I have noticed in www/view.py the issue is not have the time component 00:00:00 and we can get that quite easily if it doesnt have it. You can see in this PR I made, but basically if we set
{code}
dttm = dateutil.parser.parse(request.args.get(''execution_date''))
execution_date = dttm.isoformat()
{code}
This will fix it.

  was:
I created a new dag with a schedule of {{@once}} and left it unscheduled.  I ran different tasks a few times from the UI but the logs never showed up.  Instead I''d see messages like the following:
{code}
*** Log file isn''t local.
*** Fetching here: http://al-tools2.savagebeast.com:18700/log/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21
*** Failed to fetch log file from worker.
{code}

There is a log file for this task, but it seems to be at a slightly different path on the machine:

{code}
(airflow)hadoop@al-tools2:~/.virtualenvs/airflow$ ls -lth ./airflow_home/logs/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21T00\:00\:00
-rw-rw-rw- 1 hadoop hadoop 5.2K Jun 21 21:57 ./airflow_home/logs/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21T00:00:00
{code}

And indeed, when I change the URL to WEB_SERVER/admin/airflow/log?task_id=TASK_ID_request&dag_id=DAG_ID&execution_date=2017-06-21T00:00:00, I see the actual log:

{code}
*** Reading local log.
[2017-06-21 21:57:20,931] {models.py:172} INFO - Filling up the DagBag from ~/analytics_kochava_import_dag.py
[2017-06-21 21:57:21,307] {analytics_kochava_import_dag.py:139} INFO - Kochava app IDs 
...
[2017-06-21 21:57:26,400] {jobs.py:2083} INFO - Task exited with return code 0
{code}

I''ve added a screen shot of it below.

*FIX:*
I have noticed in www/view.py the issue is not have the time component 00:00:00 and we can get that quite easily if it doesnt have it. You can see in this PR I made.


> Log files do not show up for unscheduled dags
> ---------------------------------------------
>
>                 Key: AIRFLOW-1735
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1735
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Ace Haidrey
>            Assignee: Ace Haidrey
>              Labels: www
>         Attachments: Screen Shot 2017-06-21 at 10.53.28 PM.png
>
>
> I created a new dag with a schedule of {{@once}} and left it unscheduled.  I ran different tasks a few times from the UI but the logs never showed up.  Instead I''d see messages like the following:
> {code}
> *** Log file isn''t local.
> *** Fetching here: http://al-tools2.savagebeast.com:18700/log/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21
> *** Failed to fetch log file from worker.
> {code}
> There is a log file for this task, but it seems to be at a slightly different path on the machine:
> {code}
> (airflow)hadoop@al-tools2:~/.virtualenvs/airflow$ ls -lth ./airflow_home/logs/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21T00\:00\:00
> -rw-rw-rw- 1 hadoop hadoop 5.2K Jun 21 21:57 ./airflow_home/logs/analytics_kochava_import_dag/kopandoraradioandroid1134523b395684da7_request/2017-06-21T00:00:00
> {code}
> And indeed, when I change the URL to WEB_SERVER/admin/airflow/log?task_id=TASK_ID_request&dag_id=DAG_ID&execution_date=2017-06-21T00:00:00, I see the actual log:
> {code}
> *** Reading local log.
> [2017-06-21 21:57:20,931] {models.py:172} INFO - Filling up the DagBag from ~/analytics_kochava_import_dag.py
> [2017-06-21 21:57:21,307] {analytics_kochava_import_dag.py:139} INFO - Kochava app IDs 
> ...
> [2017-06-21 21:57:26,400] {jobs.py:2083} INFO - Task exited with return code 0
> {code}
> I''ve added a screen shot of it below.
> *FIX:*
> I have noticed in www/view.py the issue is not have the time component 00:00:00 and we can get that quite easily if it doesnt have it. You can see in this PR I made, but basically if we set
> {code}
> dttm = dateutil.parser.parse(request.args.get(''execution_date''))
> execution_date = dttm.isoformat()
> {code}
> This will fix it.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
34,26632,54,JIRA.13110574.1508391320000.5169.1508391360039@Atlassian.JIRA,2336,Jetsada Machom (JIRA),JIRA.13110574.1508391320000@Atlassian.JIRA,,,2017-10-18 22:36:00-07,"[jira] [Created] (AIRFLOW-1736) Add HotelQuickly to Who Uses
 Airflow","Jetsada Machom created AIRFLOW-1736:
---------------------------------------

             Summary: Add HotelQuickly to Who Uses Airflow
                 Key: AIRFLOW-1736
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1736
             Project: Apache Airflow
          Issue Type: Task
            Reporter: Jetsada Machom
            Assignee: Jetsada Machom
            Priority: Trivial






--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
35,26633,54,JIRA.13080275.1497572872000.5379.1508392860348@Atlassian.JIRA,2027,Yu Ishikawa (JIRA),JIRA.13080275.1497572872000@Atlassian.JIRA,,,2017-10-18 23:01:00-07,[jira] [Closed] (AIRFLOW-1310) Kubernetes execute operator,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1310?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Yu Ishikawa closed AIRFLOW-1310.
--------------------------------
    Resolution: Duplicate

> Kubernetes execute operator
> ---------------------------
>
>                 Key: AIRFLOW-1310
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1310
>             Project: Apache Airflow
>          Issue Type: New Feature
>          Components: operators
>            Reporter: Yu Ishikawa
>            Assignee: Dennis Docter
>
> We should support operators for Kubernetes to execute containers remotely.
> - Create a Kubernetes cluster
> - Execute PODs
> - https://github.com/kubernetes-incubator/client-python



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
36,26634,54,JIRA.13110574.1508391320000.5401.1508393040236@Atlassian.JIRA,2336,Jetsada Machom (JIRA),JIRA.13110574.1508391320000@Atlassian.JIRA,,,2017-10-18 23:04:00-07,"[jira] [Work started] (AIRFLOW-1736) Add HotelQuickly to Who Uses
 Airflow","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1736?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Work on AIRFLOW-1736 started by Jetsada Machom.
-----------------------------------------------
> Add HotelQuickly to Who Uses Airflow
> ------------------------------------
>
>                 Key: AIRFLOW-1736
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1736
>             Project: Apache Airflow
>          Issue Type: Task
>            Reporter: Jetsada Machom
>            Assignee: Jetsada Machom
>            Priority: Trivial
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
37,26635,54,JIRA.13110574.1508391320000.5402.1508393100068@Atlassian.JIRA,2336,Jetsada Machom (JIRA),JIRA.13110574.1508391320000@Atlassian.JIRA,,,2017-10-18 23:05:00-07,"[jira] [Resolved] (AIRFLOW-1736) Add HotelQuickly to Who Uses
 Airflow","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1736?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Jetsada Machom resolved AIRFLOW-1736.
-------------------------------------
    Resolution: Done

> Add HotelQuickly to Who Uses Airflow
> ------------------------------------
>
>                 Key: AIRFLOW-1736
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1736
>             Project: Apache Airflow
>          Issue Type: Task
>            Reporter: Jetsada Machom
>            Assignee: Jetsada Machom
>            Priority: Trivial
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
38,26636,54,JIRA.13110115.1508271682000.8939.1508427121318@Atlassian.JIRA,2332,Jessica Chen Fan  (JIRA),JIRA.13110115.1508271682000@Atlassian.JIRA,,,2017-10-19 08:32:01-07,"[jira] [Commented] (AIRFLOW-1728) Add networkUri, subnetworkUri and
 tags to DataprocClusterCreateOperator","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1728?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16211215#comment-16211215 ] 

Jessica Chen Fan  commented on AIRFLOW-1728:
--------------------------------------------

PR here: https://github.com/apache/incubator-airflow/pull/2706

> Add networkUri, subnetworkUri and tags to DataprocClusterCreateOperator 
> ------------------------------------------------------------------------
>
>                 Key: AIRFLOW-1728
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1728
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Jessica Chen Fan 
>            Assignee: Jessica Chen Fan 
>            Priority: Minor
>
> Add ability to specify subnetwork and firewall tags for easier networking when creating 
> dataproc clusters.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
39,631122,147,407C25FA.5040300@wyona.com,29,Michael Wechner,1081875729.2270.1.camel@gideon.rkunet.org,21601.0,Rolf Kulemann,2004-04-13 10:40:10-07,Re: Clone Proposal,"Rolf Kulemann wrote:

>
>Can u please explain what they are for?
>

very little changes in order to show people the idea of cloning a 
publication, e.g.

michi@neptun:~/src/cocoon-lenya$ ls src/webapp/lenya/pubs/my-default/
publication.xml  xslt
michi@neptun:~/src/cocoon-lenya$ ls src/webapp/lenya/pubs/my-default/xslt/
page2xhtml.xsl

> What is the difference to blog
>and default?
>  
>

difference between blog and default with regard to cloning?


-- 
Michael Wechner
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://www.wyona.com              http://cocoon.apache.org/lenya/
michael.wechner@wyona.com                        michi@apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lenya-dev-unsubscribe@cocoon.apache.org
For additional commands, e-mail: lenya-dev-help@cocoon.apache.org


",f
40,26637,54,JIRA.13110712.1508429923000.9370.1508429940051@Atlassian.JIRA,2337,Andre Boechat (JIRA),JIRA.13110712.1508429923000@Atlassian.JIRA,,,2017-10-19 09:19:00-07,"[jira] [Created] (AIRFLOW-1737) set_task_instance_state fails
 because of strptime","Andre Boechat created AIRFLOW-1737:
--------------------------------------

             Summary: set_task_instance_state fails because of strptime
                 Key: AIRFLOW-1737
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1737
             Project: Apache Airflow
          Issue Type: Bug
          Components: webapp
            Reporter: Andre Boechat
            Priority: Minor
         Attachments: Screenshot_2017-10-18_15-58-29.png

Context:

* DAG run triggered manually
* Using the web application to change the state of a task

When trying to set the state of a task, an exception is thrown: `ValueError: unconverted data remains: ..372649` (look at the attached screenshot).

I think the problem comes from the ""execution date"" created by manually triggered DAGs, since the date-time includes a fractional part. In my database, I see scheduled DAGs with execution dates like ""10-18T15:00:00"", while manually triggered ones with dates like ""09-21T16:36:16.170988"". If we look at the method `set_task_instance_state` in *airflow.www.views"", we see that the format string used with `strptime` doesn''t consider any fractional part.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
41,26638,54,JIRA.13081281.1498007085000.9433.1508430540192@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13081281.1498007085000@Atlassian.JIRA,,,2017-10-19 09:29:00-07,"[jira] [Commented] (AIRFLOW-1330) Connection.parse_from_uri doesn''t
 work for google_cloud_platform and so on","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1330?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16211311#comment-16211311 ] 

ASF subversion and git services commented on AIRFLOW-1330:
----------------------------------------------------------

Commit 2f107d8a30910fd025774004d5c4c95407ed55c5 in incubator-airflow''s branch refs/heads/master from [~mrkm4ntr]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=2f107d8 ]

[AIRFLOW-1330] Add conn_type argument to CLI when adding connection

Closes #2525 from mrkm4ntr/airflow-1330


> Connection.parse_from_uri doesn''t work for google_cloud_platform and so on
> --------------------------------------------------------------------------
>
>                 Key: AIRFLOW-1330
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1330
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: cli
>            Reporter: Yu Ishikawa
>            Assignee: Shintaro Murakami
>
> h2. Overview
> {{Connection.parse_from_uri}} doesn''t work for some types like {{google_cloud_platform}} whose type name includes under scores. Since `urllib.parse.urlparse()` which is used in {{Connection.parse_from_url}} doesn''t support a schema name which include under scores.
> So, airflow''s CLI doesn''t work when a given connection URI includes under scores like {{google_cloud_platform://XXXXX}}.
> h3. Workaround
> https://medium.com/@yuu.ishikawa/apache-airflow-how-to-add-a-connection-to-google-cloud-with-cli-af2cc8df138d



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
42,26639,54,JIRA.13081281.1498007085000.9443.1508430600731@Atlassian.JIRA,1273,Chris Riccomini (JIRA),JIRA.13081281.1498007085000@Atlassian.JIRA,,,2017-10-19 09:30:00-07,"[jira] [Resolved] (AIRFLOW-1330) Connection.parse_from_uri doesn''t
 work for google_cloud_platform and so on","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1330?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Chris Riccomini resolved AIRFLOW-1330.
--------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.10.0

> Connection.parse_from_uri doesn''t work for google_cloud_platform and so on
> --------------------------------------------------------------------------
>
>                 Key: AIRFLOW-1330
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1330
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: cli
>            Reporter: Yu Ishikawa
>            Assignee: Shintaro Murakami
>             Fix For: 1.10.0
>
>
> h2. Overview
> {{Connection.parse_from_uri}} doesn''t work for some types like {{google_cloud_platform}} whose type name includes under scores. Since `urllib.parse.urlparse()` which is used in {{Connection.parse_from_url}} doesn''t support a schema name which include under scores.
> So, airflow''s CLI doesn''t work when a given connection URI includes under scores like {{google_cloud_platform://XXXXX}}.
> h3. Workaround
> https://medium.com/@yuu.ishikawa/apache-airflow-how-to-add-a-connection-to-google-cloud-with-cli-af2cc8df138d



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
43,26640,54,JIRA.13110712.1508429923000.9444.1508430600742@Atlassian.JIRA,2337,Andre Boechat (JIRA),JIRA.13110712.1508429923000@Atlassian.JIRA,,,2017-10-19 09:30:00-07,"[jira] [Updated] (AIRFLOW-1737) set_task_instance_state fails
 because of strptime","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1737?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Andre Boechat updated AIRFLOW-1737:
-----------------------------------
    Description: 
Context:

* DAG run triggered manually
* Using the web application to change the state of a task

When trying to set the state of a task, an exception is thrown: `ValueError: unconverted data remains: ..372649` (look at the attached screenshot).

I think the problem comes from the ""execution date"" created by manually triggered DAGs, since the date-time includes a fractional part. In my database, I see scheduled DAGs with execution dates like ""10-18T15:00:00"", while manually triggered ones with dates like ""09-21T16:36:16.170988"". If we look at the method *set_task_instance_state* in *airflow.www.views*, we see that the format string used with *strptime* doesn''t consider any fractional part.

  was:
Context:

* DAG run triggered manually
* Using the web application to change the state of a task

When trying to set the state of a task, an exception is thrown: `ValueError: unconverted data remains: ..372649` (look at the attached screenshot).

I think the problem comes from the ""execution date"" created by manually triggered DAGs, since the date-time includes a fractional part. In my database, I see scheduled DAGs with execution dates like ""10-18T15:00:00"", while manually triggered ones with dates like ""09-21T16:36:16.170988"". If we look at the method `set_task_instance_state` in *airflow.www.views"", we see that the format string used with `strptime` doesn''t consider any fractional part.


> set_task_instance_state fails because of strptime
> -------------------------------------------------
>
>                 Key: AIRFLOW-1737
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1737
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: webapp
>            Reporter: Andre Boechat
>            Priority: Minor
>         Attachments: Screenshot_2017-10-18_15-58-29.png
>
>
> Context:
> * DAG run triggered manually
> * Using the web application to change the state of a task
> When trying to set the state of a task, an exception is thrown: `ValueError: unconverted data remains: ..372649` (look at the attached screenshot).
> I think the problem comes from the ""execution date"" created by manually triggered DAGs, since the date-time includes a fractional part. In my database, I see scheduled DAGs with execution dates like ""10-18T15:00:00"", while manually triggered ones with dates like ""09-21T16:36:16.170988"". If we look at the method *set_task_instance_state* in *airflow.www.views*, we see that the format string used with *strptime* doesn''t consider any fractional part.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
44,26641,54,JIRA.13110712.1508429923000.9445.1508430660064@Atlassian.JIRA,2337,Andre Boechat (JIRA),JIRA.13110712.1508429923000@Atlassian.JIRA,,,2017-10-19 09:31:00-07,"[jira] [Updated] (AIRFLOW-1737) set_task_instance_state fails
 because of strptime","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1737?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Andre Boechat updated AIRFLOW-1737:
-----------------------------------
    Description: 
Context:

* DAG run triggered manually
* Using the web application to change the state of a task

When trying to set the state of a task, an exception is thrown: *ValueError: unconverted data remains: ..372649* (look at the attached screenshot).

I think the problem comes from the ""execution date"" created by manually triggered DAGs, since the date-time includes a fractional part. In my database, I see scheduled DAGs with execution dates like ""10-18T15:00:00"", while manually triggered ones with dates like ""09-21T16:36:16.170988"". If we look at the method *set_task_instance_state* in *airflow.www.views*, we see that the format string used with *strptime* doesn''t consider any fractional part.

  was:
Context:

* DAG run triggered manually
* Using the web application to change the state of a task

When trying to set the state of a task, an exception is thrown: `ValueError: unconverted data remains: ..372649` (look at the attached screenshot).

I think the problem comes from the ""execution date"" created by manually triggered DAGs, since the date-time includes a fractional part. In my database, I see scheduled DAGs with execution dates like ""10-18T15:00:00"", while manually triggered ones with dates like ""09-21T16:36:16.170988"". If we look at the method *set_task_instance_state* in *airflow.www.views*, we see that the format string used with *strptime* doesn''t consider any fractional part.


> set_task_instance_state fails because of strptime
> -------------------------------------------------
>
>                 Key: AIRFLOW-1737
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1737
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: webapp
>            Reporter: Andre Boechat
>            Priority: Minor
>         Attachments: Screenshot_2017-10-18_15-58-29.png
>
>
> Context:
> * DAG run triggered manually
> * Using the web application to change the state of a task
> When trying to set the state of a task, an exception is thrown: *ValueError: unconverted data remains: ..372649* (look at the attached screenshot).
> I think the problem comes from the ""execution date"" created by manually triggered DAGs, since the date-time includes a fractional part. In my database, I see scheduled DAGs with execution dates like ""10-18T15:00:00"", while manually triggered ones with dates like ""09-21T16:36:16.170988"". If we look at the method *set_task_instance_state* in *airflow.www.views*, we see that the format string used with *strptime* doesn''t consider any fractional part.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
45,26642,54,JIRA.13110728.1508433863000.9786.1508433900229@Atlassian.JIRA,2338,Christopher Groskopf (JIRA),JIRA.13110728.1508433863000@Atlassian.JIRA,,,2017-10-19 10:25:00-07,"[jira] [Created] (AIRFLOW-1738) Deleting dag.py after manual run
 causes Airflow to hang on next manual run","Christopher Groskopf created AIRFLOW-1738:
---------------------------------------------

             Summary: Deleting dag.py after manual run causes Airflow to hang on next manual run
                 Key: AIRFLOW-1738
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1738
             Project: Apache Airflow
          Issue Type: Bug
          Components: DagRun
         Environment: Airflow 1.8.2, running on Alpine Docker images with Celery.
            Reporter: Christopher Groskopf
            Priority: Minor


We''re building integration tests around Airflow that upload a new {{dag.py}} file, trigger it''s execution (using {{airflow.api.common.experimental.trigger_dag}}), wait for it to complete, and then cleanup. However, we''ve run into a peculiar set of circumstances where if we do this multiple times in sequence, Airflow will sometime hang indefinitely when we try to trigger our next dag.

I''ve traced this and determined that the issue only happens if remove the dag files after each test. I speculate that this is because triggering a dag invokes {{create_dagrun}} which in turn invokes {{verify_integrity}}, which I believe may be choking on the sudden disappearance of the DAG files. I''m certain this is correct, but it''s the best explanation I''ve been able to come up with.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
46,26643,54,JIRA.13110728.1508433863000.9790.1508433900280@Atlassian.JIRA,2338,Christopher Groskopf (JIRA),JIRA.13110728.1508433863000@Atlassian.JIRA,,,2017-10-19 10:25:00-07,"[jira] [Updated] (AIRFLOW-1738) Deleting dag.py after manual run
 causes Airflow to hang on next manual run","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1738?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Christopher Groskopf updated AIRFLOW-1738:
------------------------------------------
    Description: 
We''re building integration tests around Airflow that upload a new {{dag.py}} file, trigger it''s execution (using {{airflow.api.common.experimental.trigger_dag}}), wait for it to complete, and then cleanup. However, we''ve run into a peculiar set of circumstances where if we do this multiple times in sequence, Airflow will sometime hang indefinitely when we try to trigger our next dag.

I''ve traced this and determined that the issue only happens if remove the dag files after each test. I speculate that this is because triggering a dag invokes {{create_dagrun}} which in turn invokes {{verify_integrity}}, which I believe may be choking on the sudden disappearance of the DAG files. I''m not certain this is correct, but it''s the best explanation I''ve been able to come up with.

  was:
We''re building integration tests around Airflow that upload a new {{dag.py}} file, trigger it''s execution (using {{airflow.api.common.experimental.trigger_dag}}), wait for it to complete, and then cleanup. However, we''ve run into a peculiar set of circumstances where if we do this multiple times in sequence, Airflow will sometime hang indefinitely when we try to trigger our next dag.

I''ve traced this and determined that the issue only happens if remove the dag files after each test. I speculate that this is because triggering a dag invokes {{create_dagrun}} which in turn invokes {{verify_integrity}}, which I believe may be choking on the sudden disappearance of the DAG files. I''m certain this is correct, but it''s the best explanation I''ve been able to come up with.


> Deleting dag.py after manual run causes Airflow to hang on next manual run
> --------------------------------------------------------------------------
>
>                 Key: AIRFLOW-1738
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1738
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: DagRun
>         Environment: Airflow 1.8.2, running on Alpine Docker images with Celery.
>            Reporter: Christopher Groskopf
>            Priority: Minor
>
> We''re building integration tests around Airflow that upload a new {{dag.py}} file, trigger it''s execution (using {{airflow.api.common.experimental.trigger_dag}}), wait for it to complete, and then cleanup. However, we''ve run into a peculiar set of circumstances where if we do this multiple times in sequence, Airflow will sometime hang indefinitely when we try to trigger our next dag.
> I''ve traced this and determined that the issue only happens if remove the dag files after each test. I speculate that this is because triggering a dag invokes {{create_dagrun}} which in turn invokes {{verify_integrity}}, which I believe may be choking on the sudden disappearance of the DAG files. I''m not certain this is correct, but it''s the best explanation I''ve been able to come up with.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
47,26644,54,JIRA.13110079.1508264991000.10775.1508439120164@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13110079.1508264991000@Atlassian.JIRA,,,2017-10-19 11:52:00-07,"[jira] [Commented] (AIRFLOW-1726) Copy Expert command for Postgres
 Hook","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1726?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16211541#comment-16211541 ] 

ASF subversion and git services commented on AIRFLOW-1726:
----------------------------------------------------------

Commit 6372770be6aab67654cede81d6b027a838077a8a in incubator-airflow''s branch refs/heads/master from [~andyxhadji]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=6372770 ]

[AIRFLOW-1726] Add copy_expert psycopg2 method to PostgresHook

Executes SQL using psycopg2 copy_expert method
Necessary to execute COPY command without access to a superuser

Closes #2698 from andyxhadji/AIRFLOW-1726


> Copy Expert command for Postgres Hook
> -------------------------------------
>
>                 Key: AIRFLOW-1726
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1726
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Andy Hadjigeorgiou
>            Assignee: Andy Hadjigeorgiou
>            Priority: Minor
>
> The Copy command is useful for postgres users, and it''s client-based version ""\COPY"" can be frustrating to use due to python escape character shenanigans. Fortunately, psycopg2 supports a copy_expert method that simplifies the command and it''s options, so I think it would be a useful addition to the PostgresHook.
> I''m working on the PR now, will post here when complete.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
48,26645,54,JIRA.13110079.1508264991000.10774.1508439120155@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13110079.1508264991000@Atlassian.JIRA,,,2017-10-19 11:52:00-07,"[jira] [Commented] (AIRFLOW-1726) Copy Expert command for Postgres
 Hook","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1726?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16211540#comment-16211540 ] 

ASF subversion and git services commented on AIRFLOW-1726:
----------------------------------------------------------

Commit 6372770be6aab67654cede81d6b027a838077a8a in incubator-airflow''s branch refs/heads/master from [~andyxhadji]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=6372770 ]

[AIRFLOW-1726] Add copy_expert psycopg2 method to PostgresHook

Executes SQL using psycopg2 copy_expert method
Necessary to execute COPY command without access to a superuser

Closes #2698 from andyxhadji/AIRFLOW-1726


> Copy Expert command for Postgres Hook
> -------------------------------------
>
>                 Key: AIRFLOW-1726
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1726
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Andy Hadjigeorgiou
>            Assignee: Andy Hadjigeorgiou
>            Priority: Minor
>
> The Copy command is useful for postgres users, and it''s client-based version ""\COPY"" can be frustrating to use due to python escape character shenanigans. Fortunately, psycopg2 supports a copy_expert method that simplifies the command and it''s options, so I think it would be a useful addition to the PostgresHook.
> I''m working on the PR now, will post here when complete.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
49,631123,147,1081878898.2266.11.camel@gideon.rkunet.org,21601,Rolf Kulemann,407C25FA.5040300@wyona.com,29.0,Michael Wechner,2004-04-13 10:54:58-07,Re: Clone Proposal,"On Tue, 2004-04-13 at 19:40, Michael Wechner wrote:
> Rolf Kulemann wrote:
> 
> >
> >Can u please explain what they are for?
> >
> 
> very little changes in order to show people the idea of cloning a 
> publication, e.g.
> 
> michi@neptun:~/src/cocoon-lenya$ ls src/webapp/lenya/pubs/my-default/
> publication.xml  xslt
> michi@neptun:~/src/cocoon-lenya$ ls src/webapp/lenya/pubs/my-default/xslt/
> page2xhtml.xsl

Ah yes ok. 
+1 to add my-* pubs :)

-- 
Regards,

    Rolf Kulemann


---------------------------------------------------------------------
To unsubscribe, e-mail: lenya-dev-unsubscribe@cocoon.apache.org
For additional commands, e-mail: lenya-dev-help@cocoon.apache.org


",f
50,26646,54,JIRA.13110079.1508264991000.10779.1508439180612@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13110079.1508264991000@Atlassian.JIRA,,,2017-10-19 11:53:00-07,"[jira] [Commented] (AIRFLOW-1726) Copy Expert command for Postgres
 Hook","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1726?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16211542#comment-16211542 ] 

ASF subversion and git services commented on AIRFLOW-1726:
----------------------------------------------------------

Commit 8a4ad30104d9e05589167ec0cde53ad941b9a1f7 in incubator-airflow''s branch refs/heads/v1-9-test from [~andyxhadji]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=8a4ad30 ]

[AIRFLOW-1726] Add copy_expert psycopg2 method to PostgresHook

Executes SQL using psycopg2 copy_expert method
Necessary to execute COPY command without access to a superuser

Closes #2698 from andyxhadji/AIRFLOW-1726

(cherry picked from commit 6372770be6aab67654cede81d6b027a838077a8a)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Copy Expert command for Postgres Hook
> -------------------------------------
>
>                 Key: AIRFLOW-1726
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1726
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Andy Hadjigeorgiou
>            Assignee: Andy Hadjigeorgiou
>            Priority: Minor
>             Fix For: 1.9.0
>
>
> The Copy command is useful for postgres users, and it''s client-based version ""\COPY"" can be frustrating to use due to python escape character shenanigans. Fortunately, psycopg2 supports a copy_expert method that simplifies the command and it''s options, so I think it would be a useful addition to the PostgresHook.
> I''m working on the PR now, will post here when complete.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
51,26647,54,JIRA.13110079.1508264991000.10792.1508439180790@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13110079.1508264991000@Atlassian.JIRA,,,2017-10-19 11:53:00-07,"[jira] [Resolved] (AIRFLOW-1726) Copy Expert command for Postgres
 Hook","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1726?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1726.
-------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2698
[https://github.com/apache/incubator-airflow/pull/2698]

> Copy Expert command for Postgres Hook
> -------------------------------------
>
>                 Key: AIRFLOW-1726
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1726
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Andy Hadjigeorgiou
>            Assignee: Andy Hadjigeorgiou
>            Priority: Minor
>             Fix For: 1.9.0
>
>
> The Copy command is useful for postgres users, and it''s client-based version ""\COPY"" can be frustrating to use due to python escape character shenanigans. Fortunately, psycopg2 supports a copy_expert method that simplifies the command and it''s options, so I think it would be a useful addition to the PostgresHook.
> I''m working on the PR now, will post here when complete.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
52,26648,54,JIRA.13110079.1508264991000.10781.1508439180626@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13110079.1508264991000@Atlassian.JIRA,,,2017-10-19 11:53:00-07,"[jira] [Commented] (AIRFLOW-1726) Copy Expert command for Postgres
 Hook","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1726?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16211543#comment-16211543 ] 

ASF subversion and git services commented on AIRFLOW-1726:
----------------------------------------------------------

Commit 8a4ad30104d9e05589167ec0cde53ad941b9a1f7 in incubator-airflow''s branch refs/heads/v1-9-test from [~andyxhadji]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=8a4ad30 ]

[AIRFLOW-1726] Add copy_expert psycopg2 method to PostgresHook

Executes SQL using psycopg2 copy_expert method
Necessary to execute COPY command without access to a superuser

Closes #2698 from andyxhadji/AIRFLOW-1726

(cherry picked from commit 6372770be6aab67654cede81d6b027a838077a8a)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Copy Expert command for Postgres Hook
> -------------------------------------
>
>                 Key: AIRFLOW-1726
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1726
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Andy Hadjigeorgiou
>            Assignee: Andy Hadjigeorgiou
>            Priority: Minor
>             Fix For: 1.9.0
>
>
> The Copy command is useful for postgres users, and it''s client-based version ""\COPY"" can be frustrating to use due to python escape character shenanigans. Fortunately, psycopg2 supports a copy_expert method that simplifies the command and it''s options, so I think it would be a useful addition to the PostgresHook.
> I''m working on the PR now, will post here when complete.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
53,26649,54,JIRA.13110771.1508440455000.10987.1508440500725@Atlassian.JIRA,2292,Andy Hadjigeorgiou (JIRA),JIRA.13110771.1508440455000@Atlassian.JIRA,,,2017-10-19 12:15:00-07,"[jira] [Work started] (AIRFLOW-1739) Cleanup naming ambiguity with
 TestDbApiHook test class","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1739?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Work on AIRFLOW-1739 started by Andy Hadjigeorgiou.
---------------------------------------------------
> Cleanup naming ambiguity with TestDbApiHook test class
> ------------------------------------------------------
>
>                 Key: AIRFLOW-1739
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1739
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Andy Hadjigeorgiou
>            Assignee: Andy Hadjigeorgiou
>            Priority: Trivial
>
> The TestDbApiHook class creates a class whose name is TestDBApiHook - I''m proposing a simple naming change to make sure the two are distinguishable.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
54,26650,54,JIRA.13110771.1508440455000.10984.1508440500491@Atlassian.JIRA,2292,Andy Hadjigeorgiou (JIRA),JIRA.13110771.1508440455000@Atlassian.JIRA,,,2017-10-19 12:15:00-07,"[jira] [Created] (AIRFLOW-1739) Cleanup naming ambiguity with
 TestDbApiHook test class","Andy Hadjigeorgiou created AIRFLOW-1739:
-------------------------------------------

             Summary: Cleanup naming ambiguity with TestDbApiHook test class
                 Key: AIRFLOW-1739
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1739
             Project: Apache Airflow
          Issue Type: Bug
            Reporter: Andy Hadjigeorgiou
            Assignee: Andy Hadjigeorgiou
            Priority: Trivial


The TestDbApiHook class creates a class whose name is TestDBApiHook - I''m proposing a simple naming change to make sure the two are distinguishable.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
55,26651,54,JIRA.13109034.1507839702000.11692.1508444520305@Atlassian.JIRA,2240,Steve Jacobs (JIRA),JIRA.13109034.1507839702000@Atlassian.JIRA,,,2017-10-19 13:22:00-07,"[jira] [Commented] (AIRFLOW-1711) Ldap Attributes not always a
 ""list"" part 2","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1711?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16211671#comment-16211671 ] 

Steve Jacobs commented on AIRFLOW-1711:
---------------------------------------

I''ve opened a PR with a fix for this issue. 

> Ldap Attributes not always a ""list"" part 2
> ------------------------------------------
>
>                 Key: AIRFLOW-1711
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1711
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: contrib
>    Affects Versions: Airflow 1.7.1
>         Environment: Linux + Active Directory
>            Reporter: Steve Jacobs
>
> in the LDAP auth module
> `group_contains_user` checks for `resp[''attributes''].get(user_name_attr)[0] == username`
> Some Ldaps apparently have this as a simple string
> `resp[''attributes''].get(user_name_attr) == username` 
> also should be checked. 
> But really a test should be done to see if the return is a ''list'' and perform the check differently. If its not a list, python will check both arguments and exit with an error. 



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
56,26652,54,JIRA.13110799.1508447038000.12225.1508447040192@Atlassian.JIRA,1375,Joy Gao (JIRA),JIRA.13110799.1508447038000@Atlassian.JIRA,,,2017-10-19 14:04:00-07,[jira] [Created] (AIRFLOW-1740) Cannot add XCOM via UI,"Joy Gao created AIRFLOW-1740:
--------------------------------

             Summary: Cannot add XCOM via UI
                 Key: AIRFLOW-1740
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1740
             Project: Apache Airflow
          Issue Type: Bug
    Affects Versions: 1.9.0
            Reporter: Joy Gao
            Priority: Minor


I cannot create/update XCOM via UI. 

When attempting to update an existing dag''s xcom, the following error is received:

{code:java}
Failed to update record. (builtins.TypeError) string argument without an encoding [SQL: ''UPDATE xcom SET value=%%%%s WHERE xcom.id = %%%%s''] [parameters: [{''xcom_id'': 165, ''value'': ""b''\\x80\\x03J+\\x92\\xdbYa.''""}]]
{code}

And for creating a new xcom:


{code:java}
Failed to create record. (builtins.TypeError) string argument without an encoding [SQL: ''INSERT INTO xcom (`key`, value, timestamp, execution_date, task_id, dag_id) VALUES (%%%%s, %%%%s, now(), %%%%s, %%%%s, %%%%s)''] [parameters: [{''execution_date'': datetime.datetime(2017, 10, 7, 1, 1), ''value'': ''bar'', ''task_id'': ''test_task'', ''key'': ''foo'', ''dag_id'': ''test_dag''}]]
{code}







--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
57,26653,54,JIRA.13110799.1508447038000.12281.1508447340976@Atlassian.JIRA,1375,Joy Gao (JIRA),JIRA.13110799.1508447038000@Atlassian.JIRA,,,2017-10-19 14:09:00-07,[jira] [Updated] (AIRFLOW-1740) Cannot add XCOM via UI in PY3,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1740?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Joy Gao updated AIRFLOW-1740:
-----------------------------
    Summary: Cannot add XCOM via UI in PY3  (was: Cannot add XCOM via UI)

> Cannot add XCOM via UI in PY3
> -----------------------------
>
>                 Key: AIRFLOW-1740
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1740
>             Project: Apache Airflow
>          Issue Type: Bug
>    Affects Versions: 1.9.0
>         Environment: PY3
>            Reporter: Joy Gao
>            Priority: Minor
>
> I cannot create/update XCOM via UI in PY3.
> When attempting to update an existing dag''s xcom, the following error is received:
> {code:java}
> Failed to update record. (builtins.TypeError) string argument without an encoding [SQL: ''UPDATE xcom SET value=%%%%s WHERE xcom.id = %%%%s''] [parameters: [{''xcom_id'': 165, ''value'': ""b''\\x80\\x03J+\\x92\\xdbYa.''""}]]
> {code}
> And for creating a new xcom:
> {code:java}
> Failed to create record. (builtins.TypeError) string argument without an encoding [SQL: ''INSERT INTO xcom (`key`, value, timestamp, execution_date, task_id, dag_id) VALUES (%%%%s, %%%%s, now(), %%%%s, %%%%s, %%%%s)''] [parameters: [{''execution_date'': datetime.datetime(2017, 10, 7, 1, 1), ''value'': ''bar'', ''task_id'': ''test_task'', ''key'': ''foo'', ''dag_id'': ''test_dag''}]]
> {code}



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
58,26654,54,JIRA.13110799.1508447038000.12279.1508447340956@Atlassian.JIRA,1375,Joy Gao (JIRA),JIRA.13110799.1508447038000@Atlassian.JIRA,,,2017-10-19 14:09:00-07,[jira] [Updated] (AIRFLOW-1740) Cannot add XCOM via UI,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1740?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Joy Gao updated AIRFLOW-1740:
-----------------------------
    Environment: PY3
    Description: 
I cannot create/update XCOM via UI in PY3.

When attempting to update an existing dag''s xcom, the following error is received:

{code:java}
Failed to update record. (builtins.TypeError) string argument without an encoding [SQL: ''UPDATE xcom SET value=%%%%s WHERE xcom.id = %%%%s''] [parameters: [{''xcom_id'': 165, ''value'': ""b''\\x80\\x03J+\\x92\\xdbYa.''""}]]
{code}

And for creating a new xcom:


{code:java}
Failed to create record. (builtins.TypeError) string argument without an encoding [SQL: ''INSERT INTO xcom (`key`, value, timestamp, execution_date, task_id, dag_id) VALUES (%%%%s, %%%%s, now(), %%%%s, %%%%s, %%%%s)''] [parameters: [{''execution_date'': datetime.datetime(2017, 10, 7, 1, 1), ''value'': ''bar'', ''task_id'': ''test_task'', ''key'': ''foo'', ''dag_id'': ''test_dag''}]]
{code}





  was:
I cannot create/update XCOM via UI. 

When attempting to update an existing dag''s xcom, the following error is received:

{code:java}
Failed to update record. (builtins.TypeError) string argument without an encoding [SQL: ''UPDATE xcom SET value=%%%%s WHERE xcom.id = %%%%s''] [parameters: [{''xcom_id'': 165, ''value'': ""b''\\x80\\x03J+\\x92\\xdbYa.''""}]]
{code}

And for creating a new xcom:


{code:java}
Failed to create record. (builtins.TypeError) string argument without an encoding [SQL: ''INSERT INTO xcom (`key`, value, timestamp, execution_date, task_id, dag_id) VALUES (%%%%s, %%%%s, now(), %%%%s, %%%%s, %%%%s)''] [parameters: [{''execution_date'': datetime.datetime(2017, 10, 7, 1, 1), ''value'': ''bar'', ''task_id'': ''test_task'', ''key'': ''foo'', ''dag_id'': ''test_dag''}]]
{code}






> Cannot add XCOM via UI
> ----------------------
>
>                 Key: AIRFLOW-1740
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1740
>             Project: Apache Airflow
>          Issue Type: Bug
>    Affects Versions: 1.9.0
>         Environment: PY3
>            Reporter: Joy Gao
>            Priority: Minor
>
> I cannot create/update XCOM via UI in PY3.
> When attempting to update an existing dag''s xcom, the following error is received:
> {code:java}
> Failed to update record. (builtins.TypeError) string argument without an encoding [SQL: ''UPDATE xcom SET value=%%%%s WHERE xcom.id = %%%%s''] [parameters: [{''xcom_id'': 165, ''value'': ""b''\\x80\\x03J+\\x92\\xdbYa.''""}]]
> {code}
> And for creating a new xcom:
> {code:java}
> Failed to create record. (builtins.TypeError) string argument without an encoding [SQL: ''INSERT INTO xcom (`key`, value, timestamp, execution_date, task_id, dag_id) VALUES (%%%%s, %%%%s, now(), %%%%s, %%%%s, %%%%s)''] [parameters: [{''execution_date'': datetime.datetime(2017, 10, 7, 1, 1), ''value'': ''bar'', ''task_id'': ''test_task'', ''key'': ''foo'', ''dag_id'': ''test_dag''}]]
> {code}



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
59,26655,54,JIRA.13110799.1508447038000.12282.1508447340985@Atlassian.JIRA,1375,Joy Gao (JIRA),JIRA.13110799.1508447038000@Atlassian.JIRA,,,2017-10-19 14:09:00-07,"[jira] [Updated] (AIRFLOW-1740) Cannot create/update XCOM via UI in
 PY3","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1740?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Joy Gao updated AIRFLOW-1740:
-----------------------------
    Summary: Cannot create/update XCOM via UI in PY3  (was: Cannot add XCOM via UI in PY3)

> Cannot create/update XCOM via UI in PY3
> ---------------------------------------
>
>                 Key: AIRFLOW-1740
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1740
>             Project: Apache Airflow
>          Issue Type: Bug
>    Affects Versions: 1.9.0
>         Environment: PY3
>            Reporter: Joy Gao
>            Priority: Minor
>
> I cannot create/update XCOM via UI in PY3.
> When attempting to update an existing dag''s xcom, the following error is received:
> {code:java}
> Failed to update record. (builtins.TypeError) string argument without an encoding [SQL: ''UPDATE xcom SET value=%%%%s WHERE xcom.id = %%%%s''] [parameters: [{''xcom_id'': 165, ''value'': ""b''\\x80\\x03J+\\x92\\xdbYa.''""}]]
> {code}
> And for creating a new xcom:
> {code:java}
> Failed to create record. (builtins.TypeError) string argument without an encoding [SQL: ''INSERT INTO xcom (`key`, value, timestamp, execution_date, task_id, dag_id) VALUES (%%%%s, %%%%s, now(), %%%%s, %%%%s, %%%%s)''] [parameters: [{''execution_date'': datetime.datetime(2017, 10, 7, 1, 1), ''value'': ''bar'', ''task_id'': ''test_task'', ''key'': ''foo'', ''dag_id'': ''test_dag''}]]
> {code}



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
60,26656,54,JIRA.13110799.1508447038000.12304.1508447460085@Atlassian.JIRA,1375,Joy Gao (JIRA),JIRA.13110799.1508447038000@Atlassian.JIRA,,,2017-10-19 14:11:00-07,"[jira] [Updated] (AIRFLOW-1740) Cannot create/update XCOM via UI in
 PY3","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1740?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Joy Gao updated AIRFLOW-1740:
-----------------------------
    Description: 
I cannot create/update XCOM via UI in PY3.

When attempting to update an existing dag''s xcom, the following error is received:

{code:java}
Failed to update record. (builtins.TypeError) string argument without an encoding [SQL: ''UPDATE xcom SET value=%%%%s WHERE xcom.id = %%%%s''] [parameters: [{''xcom_id'': 165, ''value'': ""b''bar''""}]]
{code}

And for creating a new xcom:


{code:java}
Failed to create record. (builtins.TypeError) string argument without an encoding [SQL: ''INSERT INTO xcom (`key`, value, timestamp, execution_date, task_id, dag_id) VALUES (%%%%s, %%%%s, now(), %%%%s, %%%%s, %%%%s)''] [parameters: [{''execution_date'': datetime.datetime(2017, 10, 7, 1, 1), ''value'': ''bar'', ''task_id'': ''test_task'', ''key'': ''foo'', ''dag_id'': ''test_dag''}]]
{code}





  was:
I cannot create/update XCOM via UI in PY3.

When attempting to update an existing dag''s xcom, the following error is received:

{code:java}
Failed to update record. (builtins.TypeError) string argument without an encoding [SQL: ''UPDATE xcom SET value=%%%%s WHERE xcom.id = %%%%s''] [parameters: [{''xcom_id'': 165, ''value'': ""b''\\x80\\x03J+\\x92\\xdbYa.''""}]]
{code}

And for creating a new xcom:


{code:java}
Failed to create record. (builtins.TypeError) string argument without an encoding [SQL: ''INSERT INTO xcom (`key`, value, timestamp, execution_date, task_id, dag_id) VALUES (%%%%s, %%%%s, now(), %%%%s, %%%%s, %%%%s)''] [parameters: [{''execution_date'': datetime.datetime(2017, 10, 7, 1, 1), ''value'': ''bar'', ''task_id'': ''test_task'', ''key'': ''foo'', ''dag_id'': ''test_dag''}]]
{code}






> Cannot create/update XCOM via UI in PY3
> ---------------------------------------
>
>                 Key: AIRFLOW-1740
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1740
>             Project: Apache Airflow
>          Issue Type: Bug
>    Affects Versions: 1.9.0
>         Environment: PY3
>            Reporter: Joy Gao
>            Priority: Minor
>
> I cannot create/update XCOM via UI in PY3.
> When attempting to update an existing dag''s xcom, the following error is received:
> {code:java}
> Failed to update record. (builtins.TypeError) string argument without an encoding [SQL: ''UPDATE xcom SET value=%%%%s WHERE xcom.id = %%%%s''] [parameters: [{''xcom_id'': 165, ''value'': ""b''bar''""}]]
> {code}
> And for creating a new xcom:
> {code:java}
> Failed to create record. (builtins.TypeError) string argument without an encoding [SQL: ''INSERT INTO xcom (`key`, value, timestamp, execution_date, task_id, dag_id) VALUES (%%%%s, %%%%s, now(), %%%%s, %%%%s, %%%%s)''] [parameters: [{''execution_date'': datetime.datetime(2017, 10, 7, 1, 1), ''value'': ''bar'', ''task_id'': ''test_task'', ''key'': ''foo'', ''dag_id'': ''test_dag''}]]
> {code}



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
61,26657,54,JIRA.13086271.1499782721000.15286.1508477220112@Atlassian.JIRA,2330,Manu Zhang (JIRA),JIRA.13086271.1499782721000@Atlassian.JIRA,,,2017-10-19 22:27:00-07,[jira] [Commented] (AIRFLOW-1400) catchup=False caused exception,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1400?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212185#comment-16212185 ] 

Manu Zhang commented on AIRFLOW-1400:
-------------------------------------

I''ve also seen the same issue when {{schedule_interval == ''@once''}} and {{catchup == False}} in Airflow 1.8.2.

> catchup=False caused exception
> ------------------------------
>
>                 Key: AIRFLOW-1400
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1400
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: Airflow 1.8
>            Reporter: Xi Wang
>
> When I set of the task with catchup=False, it threw a error as follow(logs/scheduler/my_dag_name):
> [2017-07-10 15:13:12,534] {jobs.py:354} DagFileProcessor373 ERROR - Got an exception! Propagating...
> Traceback (most recent call last):
>   File ""/usr/lib/python2.7/site-packages/airflow/jobs.py"", line 346, in helper
>     pickle_dags)
>   File ""/usr/lib/python2.7/site-packages/airflow/utils/db.py"", line 53, in wrapper
>     result = func(*args, **kwargs)
>   File ""/usr/lib/python2.7/site-packages/airflow/jobs.py"", line 1581, in process_file
>     self._process_dags(dagbag, dags, ti_keys_to_schedule)
>   File ""/usr/lib/python2.7/site-packages/airflow/jobs.py"", line 1171, in _process_dags
>     dag_run = self.create_dag_run(dag)
>   File ""/usr/lib/python2.7/site-packages/airflow/utils/db.py"", line 53, in wrapper
>     result = func(*args, **kwargs)
>   File ""/usr/lib/python2.7/site-packages/airflow/jobs.py"", line 776, in create_dag_run
>     if next_start <= now:
> TypeError: can''t compare datetime.datetime to NoneType
> It seems next_start was not defined properly, (https://github.com/apache/incubator-airflow/blob/master/airflow/jobs.py#L777)
> Any help is appreciated.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
62,26658,54,JIRA.13086271.1499782721000.15290.1508477340755@Atlassian.JIRA,2330,Manu Zhang (JIRA),JIRA.13086271.1499782721000@Atlassian.JIRA,,,2017-10-19 22:29:00-07,"[jira] [Comment Edited] (AIRFLOW-1400) catchup=False caused
 exception","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1400?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212185#comment-16212185 ] 

Manu Zhang edited comment on AIRFLOW-1400 at 10/20/17 5:28 AM:
---------------------------------------------------------------

I''ve also seen the same issue when {{schedule_interval == ''@once''}} and {{catchup == False}} in Airflow 1.8.2. When set to {{@once}}, {{schedule_interval}} is actually set to {{None}} internally. 


was (Author: mauzhang):
I''ve also seen the same issue when {{schedule_interval == ''@once''}} and {{catchup == False}} in Airflow 1.8.2.

> catchup=False caused exception
> ------------------------------
>
>                 Key: AIRFLOW-1400
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1400
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: Airflow 1.8
>            Reporter: Xi Wang
>
> When I set of the task with catchup=False, it threw a error as follow(logs/scheduler/my_dag_name):
> [2017-07-10 15:13:12,534] {jobs.py:354} DagFileProcessor373 ERROR - Got an exception! Propagating...
> Traceback (most recent call last):
>   File ""/usr/lib/python2.7/site-packages/airflow/jobs.py"", line 346, in helper
>     pickle_dags)
>   File ""/usr/lib/python2.7/site-packages/airflow/utils/db.py"", line 53, in wrapper
>     result = func(*args, **kwargs)
>   File ""/usr/lib/python2.7/site-packages/airflow/jobs.py"", line 1581, in process_file
>     self._process_dags(dagbag, dags, ti_keys_to_schedule)
>   File ""/usr/lib/python2.7/site-packages/airflow/jobs.py"", line 1171, in _process_dags
>     dag_run = self.create_dag_run(dag)
>   File ""/usr/lib/python2.7/site-packages/airflow/utils/db.py"", line 53, in wrapper
>     result = func(*args, **kwargs)
>   File ""/usr/lib/python2.7/site-packages/airflow/jobs.py"", line 776, in create_dag_run
>     if next_start <= now:
> TypeError: can''t compare datetime.datetime to NoneType
> It seems next_start was not defined properly, (https://github.com/apache/incubator-airflow/blob/master/airflow/jobs.py#L777)
> Any help is appreciated.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
63,26659,54,JIRA.13066720.1493133634000.17985.1508506860872@Atlassian.JIRA,2208,Junyoung Park (JIRA),JIRA.13066720.1493133634000@Atlassian.JIRA,,,2017-10-20 06:41:00-07,[jira] [Assigned] (AIRFLOW-1146) izip use in Python 3.4,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1146?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Junyoung Park reassigned AIRFLOW-1146:
--------------------------------------

    Assignee:     (was: Junyoung Park)

> izip use in Python 3.4
> ----------------------
>
>                 Key: AIRFLOW-1146
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1146
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: hive_hooks
>    Affects Versions: Airflow 1.8
>            Reporter: Alexander Panzhin
>
> Python 3 no longer has itertools.izip, but it is still used in airflow/hooks/hive_hooks.py
> This causes all kinds of havoc.
> This needs fixed, if this is to be used on Python 3+



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
64,26660,54,JIRA.13063355.1491959771000.18047.1508507940241@Atlassian.JIRA,2208,Junyoung Park (JIRA),JIRA.13063355.1491959771000@Atlassian.JIRA,,,2017-10-20 06:59:00-07,"[jira] [Assigned] (AIRFLOW-1101) Docs use the term ""Pipelines""
 instead of DAGs","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1101?page=3Dcom.atlass=
ian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Junyoung Park reassigned AIRFLOW-1101:
--------------------------------------

    Assignee: Junyoung Park

> Docs use the term ""Pipelines"" instead of DAGs
> ---------------------------------------------
>
>                 Key: AIRFLOW-1101
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1101
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Andrew Chen
>            Assignee: Junyoung Park
>
> It''s a bit confusing to use the words ""DAGs"" and ""pipelines"" interchangea=
bly in the documentation. Here are a couple examples where it is especially=
 confusing.
> https://airflow.incubator.apache.org/configuration.html#connections
> ""The pipeline code you will author will reference the =E2=80=98conn_id=E2=
=80=99 of the Connection objects.""
> ""Connections in Airflow pipelines can be created using environment variab=
les.""
> https://airflow.incubator.apache.org/configuration.html#scaling-out-with-=
celery
> ""If all your boxes have a common mount point, having your pipelines files=
 shared there should work as well""



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
65,666965,23,JIRA.12976088.1465223118000.11758.1465286541122@Atlassian.JIRA,25074,Simeon Aladjem (JIRA),JIRA.12976088.1465223118000@Atlassian.JIRA,,,2016-06-07 01:02:21-07,"[jira] [Updated] (MILAGRO-4) [Standalone D-TA] Create an initial
 D-TA Proxy service","
     [ https://issues.apache.org/jira/browse/MILAGRO-4?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Simeon Aladjem updated MILAGRO-4:
---------------------------------
    Description: 
The D-TA Proxy exists in order to prevent direct access to the D-TA itself.

* The D-TA Proxy should be written in Golang in order to utilize this technology''s strengths
* The functionality of the D-TA Proxy is:
   ** To receive the requests for keys generation or time permits and verify that hey were made by a valid source
   ** Potentially to update a database with the events of generating Client Keys and Time Permits

  was:
The D-TA Proxy exists in order to prevent direct access to the D-TA itself.

The functionality of the D-TA Proxy is:
* To receive the requests for keys generation or time permits and verify that hey were made by a valid source
* Potentially to update a database with the events of generating Client Keys and Time Permits


> [Standalone D-TA] Create an initial D-TA Proxy service 
> -------------------------------------------------------
>
>                 Key: MILAGRO-4
>                 URL: https://issues.apache.org/jira/browse/MILAGRO-4
>             Project: Milagro
>          Issue Type: Task
>          Components: Standalone D-TA
>            Reporter: Simeon Aladjem
>
> The D-TA Proxy exists in order to prevent direct access to the D-TA itself.
> * The D-TA Proxy should be written in Golang in order to utilize this technology''s strengths
> * The functionality of the D-TA Proxy is:
>    ** To receive the requests for keys generation or time permits and verify that hey were made by a valid source
>    ** Potentially to update a database with the events of generating Client Keys and Time Permits



--
This message was sent by Atlassian JIRA
(v6.3.4#6332)

",f
66,26661,54,JIRA.13088499.1500489709000.19216.1508516880135@Atlassian.JIRA,2040,Ash Berlin-Taylor (JIRA),JIRA.13088499.1500489709000@Atlassian.JIRA,,,2017-10-20 09:28:00-07,"[jira] [Assigned] (AIRFLOW-1432) NVD3 Charts do not have labeled
 axes and units change dynamically","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1432?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Ash Berlin-Taylor reassigned AIRFLOW-1432:
------------------------------------------

    Assignee: Ash Berlin-Taylor

> NVD3 Charts do not have labeled axes and units change dynamically
> -----------------------------------------------------------------
>
>                 Key: AIRFLOW-1432
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1432
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: webserver
>            Reporter: Dan Davydov
>            Assignee: Ash Berlin-Taylor
>
> E.g. for the landing times chart, the y axis isn''t labeled (e.g. minutes/hours/days), and changes dynamically based on the data points in the chart/the pixel height of the chart. The y axis should be labeled in these charts.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
67,26662,54,JIRA.13047391.1488390378000.19488.1508518740406@Atlassian.JIRA,2040,Ash Berlin-Taylor (JIRA),JIRA.13047391.1488390378000@Atlassian.JIRA,,,2017-10-20 09:59:00-07,"[jira] [Commented] (AIRFLOW-930) Task Duration Visualization
 Regression","
    [ https://issues.apache.org/jira/browse/AIRFLOW-930?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212886#comment-16212886 ] 

Ash Berlin-Taylor commented on AIRFLOW-930:
-------------------------------------------

No label on the Y axis is reported as AIRFLOW-1432.

> Task Duration Visualization Regression
> --------------------------------------
>
>                 Key: AIRFLOW-930
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-930
>             Project: Apache Airflow
>          Issue Type: Improvement
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Kevin Mandich
>
> I''m not sure if this is the right forum for this, but here goes:
> The charts in 1.8.0 seem like a major regression from the previous versions. Here are are some issues i''ve identified, ranked by decreasing severity.
> * There is no label on the y-axis. When looking at the charts, I don''t know what value I''m looking at.
> * Markers on the data points were removed. This makes it hard to see actual run times for tasks. It also removes the tremendous advantage of being able to quickly see when tasks failed.
> * The ""Hide All Series"" and ""Show All Series"" buttons have been removed. This makes viewing only a single task amongst many a very tedious process.
> * The default y-axis value is no longer 0, but instead the lowest value of the visible data points. This is a visualization anti-pattern and can be misleading (e.g. a trace whose y-values vary from 0.0091 to 0.0092 may appear to be increasing or decreasing with time, when in reality it''s basically staying the same)
> * When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two. What is the point of showing two separate charts in the first place?
> * Gridlines aren''t necessary, especially since you can mouse-over each data point to find the value. These add unnecessary clutter and make it hard to distinguish the signal from the noise.
> * A nitpick, but: why was the spline version of the charts removed? At the minimum it''d be nice to switch back and forth between spline and raw forms.
> Most of these issues are also relevant to the Task Tries and Landing Times visualizations, as well.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
68,26663,54,JIRA.13047391.1488390378000.19548.1508519041524@Atlassian.JIRA,2040,Ash Berlin-Taylor (JIRA),JIRA.13047391.1488390378000@Atlassian.JIRA,,,2017-10-20 10:04:01-07,"[jira] [Comment Edited] (AIRFLOW-930) Task Duration Visualization
 Regression","
    [ https://issues.apache.org/jira/browse/AIRFLOW-930?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212886#comment-16212886 ] 

Ash Berlin-Taylor edited comment on AIRFLOW-930 at 10/20/17 5:03 PM:
---------------------------------------------------------------------

No label on the Y axis is reported as AIRFLOW-1432 (for which I''ve just submitted a pull request..


was (Author: ashb):
No label on the Y axis is reported as AIRFLOW-1432.

> Task Duration Visualization Regression
> --------------------------------------
>
>                 Key: AIRFLOW-930
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-930
>             Project: Apache Airflow
>          Issue Type: Improvement
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Kevin Mandich
>
> I''m not sure if this is the right forum for this, but here goes:
> The charts in 1.8.0 seem like a major regression from the previous versions. Here are are some issues i''ve identified, ranked by decreasing severity.
> * There is no label on the y-axis. When looking at the charts, I don''t know what value I''m looking at.
> * Markers on the data points were removed. This makes it hard to see actual run times for tasks. It also removes the tremendous advantage of being able to quickly see when tasks failed.
> * The ""Hide All Series"" and ""Show All Series"" buttons have been removed. This makes viewing only a single task amongst many a very tedious process.
> * The default y-axis value is no longer 0, but instead the lowest value of the visible data points. This is a visualization anti-pattern and can be misleading (e.g. a trace whose y-values vary from 0.0091 to 0.0092 may appear to be increasing or decreasing with time, when in reality it''s basically staying the same)
> * When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two. What is the point of showing two separate charts in the first place?
> * Gridlines aren''t necessary, especially since you can mouse-over each data point to find the value. These add unnecessary clutter and make it hard to distinguish the signal from the noise.
> * A nitpick, but: why was the spline version of the charts removed? At the minimum it''d be nice to switch back and forth between spline and raw forms.
> Most of these issues are also relevant to the Task Tries and Landing Times visualizations, as well.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
69,26664,54,JIRA.13111040.1508519267000.19580.1508519280187@Atlassian.JIRA,2040,Ash Berlin-Taylor (JIRA),JIRA.13111040.1508519267000@Atlassian.JIRA,,,2017-10-20 10:08:00-07,"[jira] [Created] (AIRFLOW-1741) Task Duration shows two charts on
 first page load.","Ash Berlin-Taylor created AIRFLOW-1741:
------------------------------------------

             Summary: Task Duration shows two charts on first page load.
                 Key: AIRFLOW-1741
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1741
             Project: Apache Airflow
          Issue Type: Bug
          Components: ui
    Affects Versions: 1.8.0
            Reporter: Ash Berlin-Taylor
            Priority: Minor
             Fix For: 1.10.0


As reported in AIRFLOW-930 

> When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two.

This is because of an issue with the the chart code running a trigger too early - before the trigger callback has been registered.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
70,26665,54,JIRA.13111043.1508519871000.19635.1508519880023@Atlassian.JIRA,2285,Andrew Loughran (JIRA),JIRA.13111043.1508519871000@Atlassian.JIRA,,,2017-10-20 10:18:00-07,"[jira] [Created] (AIRFLOW-1742) Cannot work out why queued tasks
 aren''t being processed.","Andrew Loughran created AIRFLOW-1742:
----------------------------------------

             Summary: Cannot work out why queued tasks aren''t being processed.
                 Key: AIRFLOW-1742
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1742
             Project: Apache Airflow
          Issue Type: Wish
            Reporter: Andrew Loughran


I have run both LocalExecutor and CeleryWorker with a remote postgresDB.

On the initial run, the DAG completed successfully, but subsequent runs the execution of the tasks halts.  The UI reports that the tasks are in the queue, but the executor fails to pick them up to process them.  This has resulted in stopped DAGS, and ultimately the only way forward was an `airflow resetdb` to get a fresh state, restart all the airflow services (scheduler, worker, webserver & flower), and a flush of the redis queue.

I''d like to help troubleshoot what could be causing this issue, but probably need assistance with how to setup the logs, and replicate the problem with the debugging turned on fully.  Once that''s done, I''m hoping it will be a more obvious fix.

Opening this ticket as I will try and start the work by myself and post the logs as attachments, but will require support from other developers as and when I''ve got the logs here.

Thanks,

Andy



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
71,549385,277,JIRA.12986655.1467653918000.29090.1467746591623@Atlassian.JIRA,21272,Barbara Gomes (JIRA),JIRA.12986655.1467653918000@Atlassian.JIRA,,,2016-07-05 12:23:11-07,"[jira] [Commented] (IOTA-21) Refactor Built of performer to manage
 multi module dependency more efficient and scala style plugin for code
 quality","
    [ https://issues.apache.org/jira/browse/IOTA-21?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=15363066#comment-15363066 ] 

Barbara Gomes commented on IOTA-21:
-----------------------------------

I don''t know if you saw that I edited my comment in the PR.

""Can you also remove the building settings for fey *lazy val FeybuildSettings*""

> Refactor Built of performer to manage multi module dependency more efficient and scala style plugin for code quality 
> ---------------------------------------------------------------------------------------------------------------------
>
>                 Key: IOTA-21
>                 URL: https://issues.apache.org/jira/browse/IOTA-21
>             Project: Iota
>          Issue Type: Improvement
>            Reporter: sandeep purohit
>            Assignee: sandeep purohit
>   Original Estimate: 3h
>  Remaining Estimate: 3h
>
> In this improvement refactoring the code to manage multi module dependencies more efficient way and add scala style plugin for code quality .



--
This message was sent by Atlassian JIRA
(v6.3.4#6332)

",f
72,26666,54,JIRA.13047391.1488390378000.19670.1508520060807@Atlassian.JIRA,2040,Ash Berlin-Taylor (JIRA),JIRA.13047391.1488390378000@Atlassian.JIRA,,,2017-10-20 10:21:00-07,"[jira] [Commented] (AIRFLOW-930) Task Duration Visualization
 Regression","
    [ https://issues.apache.org/jira/browse/AIRFLOW-930?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212912#comment-16212912 ] 

Ash Berlin-Taylor commented on AIRFLOW-930:
-------------------------------------------

And point 5 addressed in AIRFLOW-1741

> Task Duration Visualization Regression
> --------------------------------------
>
>                 Key: AIRFLOW-930
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-930
>             Project: Apache Airflow
>          Issue Type: Improvement
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Kevin Mandich
>
> I''m not sure if this is the right forum for this, but here goes:
> The charts in 1.8.0 seem like a major regression from the previous versions. Here are are some issues i''ve identified, ranked by decreasing severity.
> * There is no label on the y-axis. When looking at the charts, I don''t know what value I''m looking at.
> * Markers on the data points were removed. This makes it hard to see actual run times for tasks. It also removes the tremendous advantage of being able to quickly see when tasks failed.
> * The ""Hide All Series"" and ""Show All Series"" buttons have been removed. This makes viewing only a single task amongst many a very tedious process.
> * The default y-axis value is no longer 0, but instead the lowest value of the visible data points. This is a visualization anti-pattern and can be misleading (e.g. a trace whose y-values vary from 0.0091 to 0.0092 may appear to be increasing or decreasing with time, when in reality it''s basically staying the same)
> * When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two. What is the point of showing two separate charts in the first place?
> * Gridlines aren''t necessary, especially since you can mouse-over each data point to find the value. These add unnecessary clutter and make it hard to distinguish the signal from the noise.
> * A nitpick, but: why was the spline version of the charts removed? At the minimum it''d be nice to switch back and forth between spline and raw forms.
> Most of these issues are also relevant to the Task Tries and Landing Times visualizations, as well.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
73,26667,54,JIRA.13110297.1508334610000.19657.1508520060537@Atlassian.JIRA,1273,Chris Riccomini (JIRA),JIRA.13110297.1508334610000@Atlassian.JIRA,,,2017-10-20 10:21:00-07,[jira] [Updated] (AIRFLOW-1731) Import custom config on PYTHONPATH,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1731?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Chris Riccomini updated AIRFLOW-1731:
-------------------------------------
    Priority: Blocker  (was: Major)

> Import custom config on PYTHONPATH
> ----------------------------------
>
>                 Key: AIRFLOW-1731
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1731
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: logging
>    Affects Versions: 1.9.0
>            Reporter: Fokko Driesprong
>            Priority: Blocker
>             Fix For: 1.9.0
>
>
> Currently the PYTHONPATH does not contain the required path to import a custom config as described. This needs to be fixed and the instructions needs to be updated based on user feedback.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
74,26668,54,JIRA.13111040.1508519267000.19716.1508520541916@Atlassian.JIRA,2040,Ash Berlin-Taylor (JIRA),JIRA.13111040.1508519267000@Atlassian.JIRA,,,2017-10-20 10:29:01-07,"[jira] [Updated] (AIRFLOW-1741) Task Duration shows two charts on
 first page load.","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1741?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Ash Berlin-Taylor updated AIRFLOW-1741:
---------------------------------------
    External issue URL: https://github.com/apache/incubator-airflow/pull/2711

> Task Duration shows two charts on first page load.
> --------------------------------------------------
>
>                 Key: AIRFLOW-1741
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1741
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Ash Berlin-Taylor
>            Assignee: Ash Berlin-Taylor
>            Priority: Minor
>             Fix For: 1.10.0
>
>
> As reported in AIRFLOW-930 
> > When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two.
> This is because of an issue with the the chart code running a trigger too early - before the trigger callback has been registered.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
75,26669,54,JIRA.13111040.1508519267000.19711.1508520541862@Atlassian.JIRA,2040,Ash Berlin-Taylor (JIRA),JIRA.13111040.1508519267000@Atlassian.JIRA,,,2017-10-20 10:29:01-07,"[jira] [Assigned] (AIRFLOW-1741) Task Duration shows two charts on
 first page load.","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1741?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Ash Berlin-Taylor reassigned AIRFLOW-1741:
------------------------------------------

    Assignee: Ash Berlin-Taylor

> Task Duration shows two charts on first page load.
> --------------------------------------------------
>
>                 Key: AIRFLOW-1741
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1741
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Ash Berlin-Taylor
>            Assignee: Ash Berlin-Taylor
>            Priority: Minor
>             Fix For: 1.10.0
>
>
> As reported in AIRFLOW-930 
> > When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two.
> This is because of an issue with the the chart code running a trigger too early - before the trigger callback has been registered.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
76,26670,54,JIRA.13088499.1500489709000.19721.1508520600589@Atlassian.JIRA,2040,Ash Berlin-Taylor (JIRA),JIRA.13088499.1500489709000@Atlassian.JIRA,,,2017-10-20 10:30:00-07,"[jira] [Commented] (AIRFLOW-1432) NVD3 Charts do not have labeled
 axes and units change dynamically","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1432?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212920#comment-16212920 ] 

Ash Berlin-Taylor commented on AIRFLOW-1432:
--------------------------------------------

Opened PR https://github.com/apache/incubator-airflow/pull/2710

> NVD3 Charts do not have labeled axes and units change dynamically
> -----------------------------------------------------------------
>
>                 Key: AIRFLOW-1432
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1432
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: webserver
>            Reporter: Dan Davydov
>            Assignee: Ash Berlin-Taylor
>
> E.g. for the landing times chart, the y axis isn''t labeled (e.g. minutes/hours/days), and changes dynamically based on the data points in the chart/the pixel height of the chart. The y axis should be labeled in these charts.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
77,666966,23,JIRA.12977190.1465469318000.38638.1465469360966@Atlassian.JIRA,25066,Tom Matecki (JIRA),JIRA.12977190.1465469318000@Atlassian.JIRA,,,2016-06-09 03:49:20-07,[jira] [Created] (MILAGRO-10) Milestones for MILAGRO project,"Tom Matecki created MILAGRO-10:
----------------------------------

             Summary: Milestones for MILAGRO project
                 Key: MILAGRO-10
                 URL: https://issues.apache.org/jira/browse/MILAGRO-10
             Project: Milagro
          Issue Type: Task
            Reporter: Tom Matecki


Documenting MILAGRO milestones



--
This message was sent by Atlassian JIRA
(v6.3.4#6332)

",f
78,26671,54,JIRA.13104708.1506332962000.19746.1508520780446@Atlassian.JIRA,2285,Andrew Loughran (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-20 10:33:00-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212927#comment-16212927 ] 

Andrew Loughran commented on AIRFLOW-1641:
------------------------------------------

I''d love to help resolve this bug.  Let me know how we can work on it together.

> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>              Labels: queued, scheduler, stuck, task
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
79,26672,54,JIRA.13110115.1508271682000.19756.1508520780599@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13110115.1508271682000@Atlassian.JIRA,,,2017-10-20 10:33:00-07,"[jira] [Commented] (AIRFLOW-1728) Add networkUri, subnetworkUri and
 tags to DataprocClusterCreateOperator","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1728?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212930#comment-16212930 ] 

ASF subversion and git services commented on AIRFLOW-1728:
----------------------------------------------------------

Commit eb012a3c8daecdbe20c13958468fbd21ffbbbe3e in incubator-airflow''s branch refs/heads/master from jfantom
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=eb012a3 ]

[AIRFLOW-1728] Add networkUri, subnet, tags to Dataproc operator

Closes #2706 from jfantom/master


> Add networkUri, subnetworkUri and tags to DataprocClusterCreateOperator 
> ------------------------------------------------------------------------
>
>                 Key: AIRFLOW-1728
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1728
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Jessica Chen Fan 
>            Assignee: Jessica Chen Fan 
>            Priority: Minor
>
> Add ability to specify subnetwork and firewall tags for easier networking when creating 
> dataproc clusters.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
80,26673,54,JIRA.13110115.1508271682000.19759.1508520840754@Atlassian.JIRA,1273,Chris Riccomini (JIRA),JIRA.13110115.1508271682000@Atlassian.JIRA,,,2017-10-20 10:34:00-07,"[jira] [Resolved] (AIRFLOW-1728) Add networkUri, subnetworkUri and
 tags to DataprocClusterCreateOperator","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1728?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Chris Riccomini resolved AIRFLOW-1728.
--------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.10.0

> Add networkUri, subnetworkUri and tags to DataprocClusterCreateOperator 
> ------------------------------------------------------------------------
>
>                 Key: AIRFLOW-1728
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1728
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Jessica Chen Fan 
>            Assignee: Jessica Chen Fan 
>            Priority: Minor
>             Fix For: 1.10.0
>
>
> Add ability to specify subnetwork and firewall tags for easier networking when creating 
> dataproc clusters.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
81,26674,54,JIRA.13104708.1506332962000.19777.1508520840940@Atlassian.JIRA,2285,Andrew Loughran (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-20 10:34:00-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212934#comment-16212934 ] 

Andrew Loughran commented on AIRFLOW-1641:
------------------------------------------

Running on AWS.

> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>              Labels: queued, scheduler, stuck, task
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
82,26675,54,JIRA.13111047.1508521809000.19857.1508521861133@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13111047.1508521809000@Atlassian.JIRA,,,2017-10-20 10:51:01-07,"[jira] [Created] (AIRFLOW-1743) Default config template should not
 contain ldap filters","Bolke de Bruin created AIRFLOW-1743:
---------------------------------------

             Summary: Default config template should not contain ldap filters
                 Key: AIRFLOW-1743
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1743
             Project: Apache Airflow
          Issue Type: Bug
          Components: authentication
            Reporter: Bolke de Bruin
             Fix For: 1.9.0


The config template functions as a template. In case a item is not in the airflow.cfg of the user it is used for default values.

This should not be the case for filters for ldap users, as that can create unexpected results such as users not getting the right access levels.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
83,26676,54,JIRA.13104708.1506332962000.19941.1508522280385@Atlassian.JIRA,2188,Nick Bauer (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-20 10:58:00-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212960#comment-16212960 ] 

Nick Bauer commented on AIRFLOW-1641:
-------------------------------------

Not sure you to ping the author of this, but one thing that made our situation WAY better is to increase the dag bag loading timeout. We were experiencing timeouts when the task would start, and the first thing it does is load the dag it belongs to.  If that process timed out (ours was taking 6 minutes), especially when the server was under heavy load

> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>              Labels: queued, scheduler, stuck, task
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
84,26677,54,JIRA.13104708.1506332962000.19978.1508522640394@Atlassian.JIRA,2340,Andy Loughran (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-20 11:04:00-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212966#comment-16212966 ] 

Andy Loughran commented on AIRFLOW-1641:
----------------------------------------

How easy is that coding change; or is it a variable in airflow.cfg?

Sent from my iPhone



> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>              Labels: queued, scheduler, stuck, task
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
85,26678,54,JIRA.13099337.1504306043000.20119.1508523540191@Atlassian.JIRA,2341,Jeffrey Bian (JIRA),JIRA.13099337.1504306043000@Atlassian.JIRA,,,2017-10-20 11:19:00-07,"[jira] [Commented] (AIRFLOW-1559) MySQL warnings about aborted
 connections, missing engine disposal","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1559?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16212993#comment-16212993 ] 

Jeffrey Bian commented on AIRFLOW-1559:
---------------------------------------

Proposed fix:

https://github.com/apache/incubator-airflow/blob/master/airflow/jobs.py#L354

At the beginning of the *helper* function, because the engine will be a ''copy'' in the subprocess, need to close them explicitly first and let the subsequent function implicitly recreate the resource via import settings etc.
{{settings.engine.dispose()}}

Then at the end of the function, do another round of 

{{settings.engine.dispose()}}

Comments?



> MySQL warnings about aborted connections, missing engine disposal
> -----------------------------------------------------------------
>
>                 Key: AIRFLOW-1559
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1559
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: db
>            Reporter: Daniel Huang
>            Priority: Minor
>
> We''re seeing a flood of warnings about aborted connections in our MySQL logs. 
> {code}
> Aborted connection 56720 to db: ''airflow'' user: ''foo'' host: ''x.x.x.x'' (Got an error reading communication packets)
> {code}
> It appears this is because we''re not performing [engine disposal|http://docs.sqlalchemy.org/en/latest/core/connections.html#engine-disposal]. The most common source of this warning is from the scheduler, when it kicks off new processes to process the DAG files. Calling dispose in https://github.com/apache/incubator-airflow/blob/master/airflow/jobs.py#L403 greatly reduced these messages. However, the worker is still causing some of these, I assume from when we spin up processes to run tasks. We do call dispose in https://github.com/apache/incubator-airflow/blob/master/airflow/models.py#L1394-L1396, but I think it''s a bit early. Not sure if there''s a place we can put this cleanup to ensure it''s done everywhere.
> Quick script to reproduce this warning message:
> {code}
> from airflow import settings
> from airflow.models import Connection
> session = settings.Session()
> session.query(Connection).count()
> session.close()
> # not calling settings.engine.dispose()
> {code}
> Reproduced with Airflow 1.8.1, MySQL 5.7, and SQLAlchemy 1.1.13. 



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
86,26679,54,JIRA.13111064.1508524368000.20256.1508524380627@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13111064.1508524368000@Atlassian.JIRA,,,2017-10-20 11:33:00-07,[jira] [Created] (AIRFLOW-1744) task.retries can be False,"Bolke de Bruin created AIRFLOW-1744:
---------------------------------------

             Summary: task.retries can be False 
                 Key: AIRFLOW-1744
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1744
             Project: Apache Airflow
          Issue Type: Bug
            Reporter: Bolke de Bruin


When adding the max_tries field task.retries can be False (e.g. in case of a faulty day). At least Postgres will not accept ""False"" for an integer field. 

It is proposed to set it to try_number in case try_number > 0 otherwise to 1.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
87,26680,54,JIRA.13111064.1508524368000.20257.1508524440148@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13111064.1508524368000@Atlassian.JIRA,,,2017-10-20 11:34:00-07,[jira] [Updated] (AIRFLOW-1744) task.retries can be False,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1744?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin updated AIRFLOW-1744:
------------------------------------
    Fix Version/s: 1.9.0

> task.retries can be False 
> --------------------------
>
>                 Key: AIRFLOW-1744
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1744
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Bolke de Bruin
>             Fix For: 1.9.0
>
>
> When adding the max_tries field task.retries can be False (e.g. in case of a faulty day). At least Postgres will not accept ""False"" for an integer field. 
> It is proposed to set it to try_number in case try_number > 0 otherwise to 1.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
88,875219,186,CAHYtTq=ZhQOsSUc_T-asTuJ1L3in_5xGq1+vApQ1K_MEFj4h+Q@mail.gmail.com,30825,Carlos Santana,,,,2017-05-02 19:02:06-07,ApacheCon 2016: t-shirt ideas?,"I=E2=80=99m attending ApacheCon May 16-18, Who else is attending?

 I want to print a custom t-shirt with some message on the back that would
attract folks to ask me more about Apache OpenWhisk.

Anyone can help out with ideas?

Here are I just came up, very lame but to spark the discussion

- Need to burn your servers? Ask this guy
- Trigger waiting to be fire
- Web Action FTW!
- These are not the cold activations your looking for

Maybe we can print a few to wear there.


--Carlos
",f
89,26681,54,JIRA.13104708.1506332962000.20341.1508524802072@Atlassian.JIRA,2188,Nick Bauer (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-20 11:40:02-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213027#comment-16213027 ] 

Nick Bauer commented on AIRFLOW-1641:
-------------------------------------

yes, airflow.cfg:
dagbag_import_timeout = 30

30 is the default.

or via environment variables:
export AIRFLOW__CORE_DAGBAG_IMPORT_TIMEOUT=30

Take a look at the log for your queued task that is stuck.  It did not occur to me that a queued task would even have a log, but once I looked at it, it was easy to identify if it the issue was due to a timeout.

Even so, the task should fail instead of stay ""queued"", or retry depending on your settings, possibly email if that is setup.


> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>              Labels: queued, scheduler, stuck, task
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
90,26682,54,JIRA.13111040.1508519267000.20390.1508525100636@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111040.1508519267000@Atlassian.JIRA,,,2017-10-20 11:45:00-07,"[jira] [Commented] (AIRFLOW-1741) Task Duration shows two charts on
 first page load.","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1741?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213037#comment-16213037 ] 

ASF subversion and git services commented on AIRFLOW-1741:
----------------------------------------------------------

Commit 3d4feb60906a4e4edbd1dba4b397db1a0b5be8ed in incubator-airflow''s branch refs/heads/master from [~ashb]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=3d4feb6 ]

[AIRFLOW-1741] Correctly hide second chart on task duration page

A timing/load order bug meant that this "".trigger""
call was happening
too early, resulting in a trigger being sent
before the hook callback
had been registered, meaning we didn''t hide the
second chart correctly
on page load.

Closes #2711 from ashb/AIRFLOW-1741-task-duration-
charts-load


> Task Duration shows two charts on first page load.
> --------------------------------------------------
>
>                 Key: AIRFLOW-1741
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1741
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Ash Berlin-Taylor
>            Assignee: Ash Berlin-Taylor
>            Priority: Minor
>             Fix For: 1.9.0
>
>
> As reported in AIRFLOW-930 
> > When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two.
> This is because of an issue with the the chart code running a trigger too early - before the trigger callback has been registered.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
91,26683,54,JIRA.13111040.1508519267000.20393.1508525100876@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111040.1508519267000@Atlassian.JIRA,,,2017-10-20 11:45:00-07,"[jira] [Commented] (AIRFLOW-1741) Task Duration shows two charts on
 first page load.","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1741?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213039#comment-16213039 ] 

ASF subversion and git services commented on AIRFLOW-1741:
----------------------------------------------------------

Commit 974b493fc929e46a67c1b68f2e7ef9581f2cde0d in incubator-airflow''s branch refs/heads/v1-9-test from [~ashb]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=974b493 ]

[AIRFLOW-1741] Correctly hide second chart on task duration page

A timing/load order bug meant that this "".trigger""
call was happening
too early, resulting in a trigger being sent
before the hook callback
had been registered, meaning we didn''t hide the
second chart correctly
on page load.

Closes #2711 from ashb/AIRFLOW-1741-task-duration-
charts-load

(cherry picked from commit 3d4feb60906a4e4edbd1dba4b397db1a0b5be8ed)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Task Duration shows two charts on first page load.
> --------------------------------------------------
>
>                 Key: AIRFLOW-1741
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1741
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Ash Berlin-Taylor
>            Assignee: Ash Berlin-Taylor
>            Priority: Minor
>             Fix For: 1.9.0
>
>
> As reported in AIRFLOW-930 
> > When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two.
> This is because of an issue with the the chart code running a trigger too early - before the trigger callback has been registered.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
92,26684,54,JIRA.13111040.1508519267000.20392.1508525100868@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111040.1508519267000@Atlassian.JIRA,,,2017-10-20 11:45:00-07,"[jira] [Commented] (AIRFLOW-1741) Task Duration shows two charts on
 first page load.","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1741?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213038#comment-16213038 ] 

ASF subversion and git services commented on AIRFLOW-1741:
----------------------------------------------------------

Commit 3d4feb60906a4e4edbd1dba4b397db1a0b5be8ed in incubator-airflow''s branch refs/heads/master from [~ashb]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=3d4feb6 ]

[AIRFLOW-1741] Correctly hide second chart on task duration page

A timing/load order bug meant that this "".trigger""
call was happening
too early, resulting in a trigger being sent
before the hook callback
had been registered, meaning we didn''t hide the
second chart correctly
on page load.

Closes #2711 from ashb/AIRFLOW-1741-task-duration-
charts-load


> Task Duration shows two charts on first page load.
> --------------------------------------------------
>
>                 Key: AIRFLOW-1741
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1741
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Ash Berlin-Taylor
>            Assignee: Ash Berlin-Taylor
>            Priority: Minor
>             Fix For: 1.9.0
>
>
> As reported in AIRFLOW-930 
> > When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two.
> This is because of an issue with the the chart code running a trigger too early - before the trigger callback has been registered.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
93,26685,54,JIRA.13111040.1508519267000.20396.1508525100904@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111040.1508519267000@Atlassian.JIRA,,,2017-10-20 11:45:00-07,"[jira] [Commented] (AIRFLOW-1741) Task Duration shows two charts on
 first page load.","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1741?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213040#comment-16213040 ] 

ASF subversion and git services commented on AIRFLOW-1741:
----------------------------------------------------------

Commit 974b493fc929e46a67c1b68f2e7ef9581f2cde0d in incubator-airflow''s branch refs/heads/v1-9-test from [~ashb]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=974b493 ]

[AIRFLOW-1741] Correctly hide second chart on task duration page

A timing/load order bug meant that this "".trigger""
call was happening
too early, resulting in a trigger being sent
before the hook callback
had been registered, meaning we didn''t hide the
second chart correctly
on page load.

Closes #2711 from ashb/AIRFLOW-1741-task-duration-
charts-load

(cherry picked from commit 3d4feb60906a4e4edbd1dba4b397db1a0b5be8ed)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Task Duration shows two charts on first page load.
> --------------------------------------------------
>
>                 Key: AIRFLOW-1741
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1741
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Ash Berlin-Taylor
>            Assignee: Ash Berlin-Taylor
>            Priority: Minor
>             Fix For: 1.9.0
>
>
> As reported in AIRFLOW-930 
> > When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two.
> This is because of an issue with the the chart code running a trigger too early - before the trigger callback has been registered.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
94,26686,54,JIRA.13111040.1508519267000.20399.1508525100934@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13111040.1508519267000@Atlassian.JIRA,,,2017-10-20 11:45:00-07,"[jira] [Resolved] (AIRFLOW-1741) Task Duration shows two charts on
 first page load.","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1741?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1741.
-------------------------------------
       Resolution: Fixed
    Fix Version/s:     (was: 1.10.0)
                   1.9.0

Issue resolved by pull request #2711
[https://github.com/apache/incubator-airflow/pull/2711]

> Task Duration shows two charts on first page load.
> --------------------------------------------------
>
>                 Key: AIRFLOW-1741
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1741
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: ui
>    Affects Versions: 1.8.0
>            Reporter: Ash Berlin-Taylor
>            Assignee: Ash Berlin-Taylor
>            Priority: Minor
>             Fix For: 1.9.0
>
>
> As reported in AIRFLOW-930 
> > When you first load the page, two charts are shown: Cumulative and Non-cumulative. However, when you toggle the ""Cumulative Duration"" button, one of the charts disappears, and you can now only switch between the two.
> This is because of an issue with the the chart code running a trigger too early - before the trigger callback has been registered.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
95,26687,54,JIRA.13104708.1506332962000.20583.1508526720420@Atlassian.JIRA,2285,Andrew Loughran (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-20 12:12:00-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213078#comment-16213078 ] 

Andrew Loughran commented on AIRFLOW-1641:
------------------------------------------

Great to see some comments on this issue - thanks [~nickjbauer]!

I agree, and may raise a subsequent bug if I can reproduce it for a timed-out task to go into a failed state, rather than end up being stuck.  IF this is the case, it''s hopefull a case of handling that state management a bit tighter.

Cheers!

> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>              Labels: queued, scheduler, stuck, task
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
96,26688,54,JIRA.13111147.1508562846000.24274.1508562900028@Atlassian.JIRA,2305,William Pursell (JIRA),JIRA.13111147.1508562846000@Atlassian.JIRA,,,2017-10-20 22:15:00-07,"[jira] [Created] (AIRFLOW-1745) BashOperator ignores SIGPIPE in
 subprocess","William Pursell created AIRFLOW-1745:
----------------------------------------

             Summary: BashOperator ignores SIGPIPE in subprocess
                 Key: AIRFLOW-1745
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1745
             Project: Apache Airflow
          Issue Type: Bug
          Components: DagRun
    Affects Versions: Airflow 1.8
            Reporter: William Pursell
            Assignee: William Pursell


In Python 2, subprocesses ignore SIGPIPE (https://bugs.python.org/issue1652).  As a result, a simple bash operator with bash_command = ''yes | head'' may never terminate (depending on the implementation of yes).  Airflow should reset the signal disposition to default.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
97,26689,54,JIRA.13111147.1508562846000.24328.1508563620162@Atlassian.JIRA,2305,William Pursell (JIRA),JIRA.13111147.1508562846000@Atlassian.JIRA,,,2017-10-20 22:27:00-07,"[jira] [Commented] (AIRFLOW-1745) BashOperator ignores SIGPIPE in
 subprocess","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1745?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213742#comment-16213742 ] 

William Pursell commented on AIRFLOW-1745:
------------------------------------------

Also, see https://stackoverflow.com/questions/22077881/yes-reporting-error-with-subprocess-communicate  and   https://stackoverflow.com/questions/23064636/python-subprocess-popen-blocks-with-shell-and-pipe/23089677#23089677  It''s not clear to me if signals other than SIGPIPE need be reset.

> BashOperator ignores SIGPIPE in subprocess
> ------------------------------------------
>
>                 Key: AIRFLOW-1745
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1745
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: DagRun
>    Affects Versions: Airflow 1.8
>            Reporter: William Pursell
>            Assignee: William Pursell
>   Original Estimate: 10m
>  Remaining Estimate: 10m
>
> In Python 2, subprocesses ignore SIGPIPE (https://bugs.python.org/issue1652).  As a result, a simple bash operator with bash_command = ''yes | head'' may never terminate (depending on the implementation of yes).  Airflow should reset the signal disposition to default.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
98,26690,54,JIRA.13111147.1508562846000.26439.1508574360146@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111147.1508562846000@Atlassian.JIRA,,,2017-10-21 01:26:00-07,"[jira] [Commented] (AIRFLOW-1745) BashOperator ignores SIGPIPE in
 subprocess","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1745?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213811#comment-16213811 ] 

ASF subversion and git services commented on AIRFLOW-1745:
----------------------------------------------------------

Commit ca961042c146d49504e00e4abefc7779f0747782 in incubator-airflow''s branch refs/heads/master from [~wrp]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=ca96104 ]

[AIRFLOW-1745] Restore default signal disposition

Restore defaults for SIGPIPE, SIGXFZ, and SIGXFSZ
Python 2.7 subprocess resets signal disposition
for these
signals to ignore, which can cause problems.  For
example,
a simple BashOperator executing ''yes | head'' may
never
terminate.  For details, see discussion at:
https://bugs.python.org/issue1652
https://stackoverflow.com/questions/22077881/yes-
reporting-error-with-subprocess-communicate
etc.

Closes #2714 from wrp/sigpipe


> BashOperator ignores SIGPIPE in subprocess
> ------------------------------------------
>
>                 Key: AIRFLOW-1745
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1745
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: DagRun
>    Affects Versions: Airflow 1.8
>            Reporter: William Pursell
>            Assignee: William Pursell
>             Fix For: 1.9.0
>
>   Original Estimate: 10m
>  Remaining Estimate: 10m
>
> In Python 2, subprocesses ignore SIGPIPE (https://bugs.python.org/issue1652).  As a result, a simple bash operator with bash_command = ''yes | head'' may never terminate (depending on the implementation of yes).  Airflow should reset the signal disposition to default.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
99,875378,186,552B7197-99D8-46A4-A7E5-BD2D893DE1E1@gmail.com,30891,Rodric Rabbah,C503E080-4E4C-428C-913E-4E6F7FAD945A@adobe.com,,,2017-06-30 18:12:24-07,Re: Adding pages to confluence,"+1 for wiki on GitHub unless this runs afoul of the Apache processes. 

-r

",f
100,26691,54,JIRA.13111147.1508562846000.26444.1508574360183@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13111147.1508562846000@Atlassian.JIRA,,,2017-10-21 01:26:00-07,"[jira] [Resolved] (AIRFLOW-1745) BashOperator ignores SIGPIPE in
 subprocess","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1745?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1745.
-------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2714
[https://github.com/apache/incubator-airflow/pull/2714]

> BashOperator ignores SIGPIPE in subprocess
> ------------------------------------------
>
>                 Key: AIRFLOW-1745
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1745
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: DagRun
>    Affects Versions: Airflow 1.8
>            Reporter: William Pursell
>            Assignee: William Pursell
>             Fix For: 1.9.0
>
>   Original Estimate: 10m
>  Remaining Estimate: 10m
>
> In Python 2, subprocesses ignore SIGPIPE (https://bugs.python.org/issue1652).  As a result, a simple bash operator with bash_command = ''yes | head'' may never terminate (depending on the implementation of yes).  Airflow should reset the signal disposition to default.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
101,26692,54,JIRA.13111147.1508562846000.26440.1508574360155@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111147.1508562846000@Atlassian.JIRA,,,2017-10-21 01:26:00-07,"[jira] [Commented] (AIRFLOW-1745) BashOperator ignores SIGPIPE in
 subprocess","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1745?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213812#comment-16213812 ] 

ASF subversion and git services commented on AIRFLOW-1745:
----------------------------------------------------------

Commit e021c9d0a4e45465f3702249bf5eadbe40bf9135 in incubator-airflow''s branch refs/heads/v1-9-test from [~wrp]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=e021c9d ]

[AIRFLOW-1745] Restore default signal disposition

Restore defaults for SIGPIPE, SIGXFZ, and SIGXFSZ
Python 2.7 subprocess resets signal disposition
for these
signals to ignore, which can cause problems.  For
example,
a simple BashOperator executing ''yes | head'' may
never
terminate.  For details, see discussion at:
https://bugs.python.org/issue1652
https://stackoverflow.com/questions/22077881/yes-
reporting-error-with-subprocess-communicate
etc.

Closes #2714 from wrp/sigpipe

(cherry picked from commit ca961042c146d49504e00e4abefc7779f0747782)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> BashOperator ignores SIGPIPE in subprocess
> ------------------------------------------
>
>                 Key: AIRFLOW-1745
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1745
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: DagRun
>    Affects Versions: Airflow 1.8
>            Reporter: William Pursell
>            Assignee: William Pursell
>             Fix For: 1.9.0
>
>   Original Estimate: 10m
>  Remaining Estimate: 10m
>
> In Python 2, subprocesses ignore SIGPIPE (https://bugs.python.org/issue1652).  As a result, a simple bash operator with bash_command = ''yes | head'' may never terminate (depending on the implementation of yes).  Airflow should reset the signal disposition to default.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
102,26693,54,JIRA.13111158.1508578157000.26560.1508578200029@Atlassian.JIRA,2342,Eyal Trabelsi (JIRA),JIRA.13111158.1508578157000@Atlassian.JIRA,,,2017-10-21 02:30:00-07,"[jira] [Created] (AIRFLOW-1746) Add a Nomad operator to trigger job
 from Airflow","Eyal Trabelsi created AIRFLOW-1746:
--------------------------------------

             Summary: Add a Nomad operator to trigger job from Airflow
                 Key: AIRFLOW-1746
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1746
             Project: Apache Airflow
          Issue Type: New Feature
          Components: contrib
            Reporter: Eyal Trabelsi


We recently face the need to trigger nomad jobs from Airflow and no operator are available for that. 
The way the operator works is to register a nomad job and dispatch the job , than check the status of the job using similar method like boto-core (https://github.com/boto/botocore/blob/5a07b477114b11e6dc5f676f5db810972565b113/botocore/docs/waiter.py)

The operator uses https://github.com/jrxFive/python-nomad which is a wrap over nomad rest api of nomad written in python.

Link to the PR : https://github.com/apache/incubator-airflow/pull/2708




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
103,26694,54,JIRA.13111047.1508521809000.26897.1508588580374@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111047.1508521809000@Atlassian.JIRA,,,2017-10-21 05:23:00-07,"[jira] [Commented] (AIRFLOW-1743) Default config template should
 not contain ldap filters","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1743?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213877#comment-16213877 ] 

ASF subversion and git services commented on AIRFLOW-1743:
----------------------------------------------------------

Commit 16899a95b5cf08d1053892c532f4b494b2f7d0cc in incubator-airflow''s branch refs/heads/master from [~bolke]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=16899a9 ]

[AIRFLOW-1743] Verify ldap filters correctly

The superuser and data profiler filter where set
by default
in the config template and could not be unset.

Closes #2712 from bolkedebruin/AIRFLOW-1743


> Default config template should not contain ldap filters
> -------------------------------------------------------
>
>                 Key: AIRFLOW-1743
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1743
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: authentication
>            Reporter: Bolke de Bruin
>             Fix For: 1.9.0
>
>
> The config template functions as a template. In case a item is not in the airflow.cfg of the user it is used for default values.
> This should not be the case for filters for ldap users, as that can create unexpected results such as users not getting the right access levels.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
104,26695,54,JIRA.13111047.1508521809000.26901.1508588580424@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111047.1508521809000@Atlassian.JIRA,,,2017-10-21 05:23:00-07,"[jira] [Commented] (AIRFLOW-1743) Default config template should
 not contain ldap filters","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1743?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213879#comment-16213879 ] 

ASF subversion and git services commented on AIRFLOW-1743:
----------------------------------------------------------

Commit 27068450ab8d191c98ab087fb1ed816af6be908a in incubator-airflow''s branch refs/heads/v1-9-test from [~bolke]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=2706845 ]

[AIRFLOW-1743] Verify ldap filters correctly

The superuser and data profiler filter where set
by default
in the config template and could not be unset.

Closes #2712 from bolkedebruin/AIRFLOW-1743

(cherry picked from commit 16899a95b5cf08d1053892c532f4b494b2f7d0cc)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Default config template should not contain ldap filters
> -------------------------------------------------------
>
>                 Key: AIRFLOW-1743
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1743
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: authentication
>            Reporter: Bolke de Bruin
>             Fix For: 1.9.0
>
>
> The config template functions as a template. In case a item is not in the airflow.cfg of the user it is used for default values.
> This should not be the case for filters for ldap users, as that can create unexpected results such as users not getting the right access levels.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
105,26696,54,JIRA.13111047.1508521809000.26904.1508588580451@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111047.1508521809000@Atlassian.JIRA,,,2017-10-21 05:23:00-07,"[jira] [Commented] (AIRFLOW-1743) Default config template should
 not contain ldap filters","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1743?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213880#comment-16213880 ] 

ASF subversion and git services commented on AIRFLOW-1743:
----------------------------------------------------------

Commit 27068450ab8d191c98ab087fb1ed816af6be908a in incubator-airflow''s branch refs/heads/v1-9-test from [~bolke]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=2706845 ]

[AIRFLOW-1743] Verify ldap filters correctly

The superuser and data profiler filter where set
by default
in the config template and could not be unset.

Closes #2712 from bolkedebruin/AIRFLOW-1743

(cherry picked from commit 16899a95b5cf08d1053892c532f4b494b2f7d0cc)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> Default config template should not contain ldap filters
> -------------------------------------------------------
>
>                 Key: AIRFLOW-1743
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1743
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: authentication
>            Reporter: Bolke de Bruin
>             Fix For: 1.9.0
>
>
> The config template functions as a template. In case a item is not in the airflow.cfg of the user it is used for default values.
> This should not be the case for filters for ldap users, as that can create unexpected results such as users not getting the right access levels.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
106,26697,54,JIRA.13111047.1508521809000.26906.1508588580470@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13111047.1508521809000@Atlassian.JIRA,,,2017-10-21 05:23:00-07,"[jira] [Resolved] (AIRFLOW-1743) Default config template should not
 contain ldap filters","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1743?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1743.
-------------------------------------
    Resolution: Fixed

Issue resolved by pull request #2712
[https://github.com/apache/incubator-airflow/pull/2712]

> Default config template should not contain ldap filters
> -------------------------------------------------------
>
>                 Key: AIRFLOW-1743
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1743
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: authentication
>            Reporter: Bolke de Bruin
>             Fix For: 1.9.0
>
>
> The config template functions as a template. In case a item is not in the airflow.cfg of the user it is used for default values.
> This should not be the case for filters for ldap users, as that can create unexpected results such as users not getting the right access levels.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
107,26698,54,JIRA.13111047.1508521809000.26900.1508588580413@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13111047.1508521809000@Atlassian.JIRA,,,2017-10-21 05:23:00-07,"[jira] [Commented] (AIRFLOW-1743) Default config template should
 not contain ldap filters","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1743?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16213878#comment-16213878 ] 

ASF subversion and git services commented on AIRFLOW-1743:
----------------------------------------------------------

Commit 16899a95b5cf08d1053892c532f4b494b2f7d0cc in incubator-airflow''s branch refs/heads/master from [~bolke]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=16899a9 ]

[AIRFLOW-1743] Verify ldap filters correctly

The superuser and data profiler filter where set
by default
in the config template and could not be unset.

Closes #2712 from bolkedebruin/AIRFLOW-1743


> Default config template should not contain ldap filters
> -------------------------------------------------------
>
>                 Key: AIRFLOW-1743
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1743
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: authentication
>            Reporter: Bolke de Bruin
>             Fix For: 1.9.0
>
>
> The config template functions as a template. In case a item is not in the airflow.cfg of the user it is used for default values.
> This should not be the case for filters for ldap users, as that can create unexpected results such as users not getting the right access levels.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
108,26699,54,JIRA.13088499.1500489709000.29750.1508692681817@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13088499.1500489709000@Atlassian.JIRA,,,2017-10-22 10:18:01-07,"[jira] [Commented] (AIRFLOW-1432) NVD3 Charts do not have labeled
 axes and units change dynamically","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1432?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214382#comment-16214382 ] 

ASF subversion and git services commented on AIRFLOW-1432:
----------------------------------------------------------

Commit 4d1466b655e21b7756f22b5c2a3937811d0c65cf in incubator-airflow''s branch refs/heads/master from [~ashb]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=4d1466b ]

[AIRFLOW-1432] Charts label for Y axis not visible

The NVD3 charts did _have_ labels on the y-axis
saying the unit (hours,
minutes etc) but they weren''t _visible_. nvd3.js
correctly places labels
on the xAxis, but it doesn''t correctly space them
on the vertical axis.

Closes #2710 from ashb/AIRFLOW-1432-chart-y-axes


> NVD3 Charts do not have labeled axes and units change dynamically
> -----------------------------------------------------------------
>
>                 Key: AIRFLOW-1432
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1432
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: webserver
>            Reporter: Dan Davydov
>            Assignee: Ash Berlin-Taylor
>
> E.g. for the landing times chart, the y axis isn''t labeled (e.g. minutes/hours/days), and changes dynamically based on the data points in the chart/the pixel height of the chart. The y axis should be labeled in these charts.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
109,613212,146,JIRA.12755301.1415956857000.535055.1416401253620@Atlassian.JIRA,14290,Amareshwari Sriramadasu (JIRA),JIRA.12755301.1415956857000@Atlassian.JIRA,,,2014-11-19 04:47:33-08,"[jira] [Commented] (LENS-21) Minor refactoring changes in Query
 Rewriter interface","
    [ https://issues.apache.org/jira/browse/LENS-21?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=14217842#comment-14217842 ] 

Amareshwari Sriramadasu commented on LENS-21:
---------------------------------------------

+1 Patch looks fine. I see no changes from previous. Going ahead and committing

> Minor refactoring changes in Query Rewriter interface 
> ------------------------------------------------------
>
>                 Key: LENS-21
>                 URL: https://issues.apache.org/jira/browse/LENS-21
>             Project: Apache Lens
>          Issue Type: Improvement
>          Components: api
>    Affects Versions: 2.0
>            Reporter: Suma Shivaprasad
>            Assignee: Suma Shivaprasad
>             Fix For: 2.0
>
>         Attachments: LENS-34.1.patch, LENS-34.patch
>
>
> QueryRewrite interface  needs to be moved into server-api and some minor method signature changes



--
This message was sent by Atlassian JIRA
(v6.3.4#6332)

",f
110,26700,54,JIRA.13088499.1500489709000.29753.1508692681838@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13088499.1500489709000@Atlassian.JIRA,,,2017-10-22 10:18:01-07,"[jira] [Commented] (AIRFLOW-1432) NVD3 Charts do not have labeled
 axes and units change dynamically","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1432?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214383#comment-16214383 ] 

ASF subversion and git services commented on AIRFLOW-1432:
----------------------------------------------------------

Commit 4d1466b655e21b7756f22b5c2a3937811d0c65cf in incubator-airflow''s branch refs/heads/master from [~ashb]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=4d1466b ]

[AIRFLOW-1432] Charts label for Y axis not visible

The NVD3 charts did _have_ labels on the y-axis
saying the unit (hours,
minutes etc) but they weren''t _visible_. nvd3.js
correctly places labels
on the xAxis, but it doesn''t correctly space them
on the vertical axis.

Closes #2710 from ashb/AIRFLOW-1432-chart-y-axes


> NVD3 Charts do not have labeled axes and units change dynamically
> -----------------------------------------------------------------
>
>                 Key: AIRFLOW-1432
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1432
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: webserver
>            Reporter: Dan Davydov
>            Assignee: Ash Berlin-Taylor
>
> E.g. for the landing times chart, the y axis isn''t labeled (e.g. minutes/hours/days), and changes dynamically based on the data points in the chart/the pixel height of the chart. The y axis should be labeled in these charts.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
111,26701,54,JIRA.13088499.1500489709000.29758.1508692740388@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13088499.1500489709000@Atlassian.JIRA,,,2017-10-22 10:19:00-07,"[jira] [Commented] (AIRFLOW-1432) NVD3 Charts do not have labeled
 axes and units change dynamically","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1432?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214384#comment-16214384 ] 

ASF subversion and git services commented on AIRFLOW-1432:
----------------------------------------------------------

Commit 70ffa43ad467e0c5ac9f8cca4971af5347c354fd in incubator-airflow''s branch refs/heads/v1-9-test from [~ashb]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=70ffa43 ]

[AIRFLOW-1432] Charts label for Y axis not visible

The NVD3 charts did _have_ labels on the y-axis
saying the unit (hours,
minutes etc) but they weren''t _visible_. nvd3.js
correctly places labels
on the xAxis, but it doesn''t correctly space them
on the vertical axis.

Closes #2710 from ashb/AIRFLOW-1432-chart-y-axes

(cherry picked from commit 4d1466b655e21b7756f22b5c2a3937811d0c65cf)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> NVD3 Charts do not have labeled axes and units change dynamically
> -----------------------------------------------------------------
>
>                 Key: AIRFLOW-1432
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1432
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: webserver
>            Reporter: Dan Davydov
>            Assignee: Ash Berlin-Taylor
>             Fix For: 1.9.0
>
>
> E.g. for the landing times chart, the y axis isn''t labeled (e.g. minutes/hours/days), and changes dynamically based on the data points in the chart/the pixel height of the chart. The y axis should be labeled in these charts.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
112,26702,54,JIRA.13088499.1500489709000.29759.1508692740399@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13088499.1500489709000@Atlassian.JIRA,,,2017-10-22 10:19:00-07,"[jira] [Commented] (AIRFLOW-1432) NVD3 Charts do not have labeled
 axes and units change dynamically","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1432?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214385#comment-16214385 ] 

ASF subversion and git services commented on AIRFLOW-1432:
----------------------------------------------------------

Commit 70ffa43ad467e0c5ac9f8cca4971af5347c354fd in incubator-airflow''s branch refs/heads/v1-9-test from [~ashb]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=70ffa43 ]

[AIRFLOW-1432] Charts label for Y axis not visible

The NVD3 charts did _have_ labels on the y-axis
saying the unit (hours,
minutes etc) but they weren''t _visible_. nvd3.js
correctly places labels
on the xAxis, but it doesn''t correctly space them
on the vertical axis.

Closes #2710 from ashb/AIRFLOW-1432-chart-y-axes

(cherry picked from commit 4d1466b655e21b7756f22b5c2a3937811d0c65cf)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> NVD3 Charts do not have labeled axes and units change dynamically
> -----------------------------------------------------------------
>
>                 Key: AIRFLOW-1432
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1432
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: webserver
>            Reporter: Dan Davydov
>            Assignee: Ash Berlin-Taylor
>             Fix For: 1.9.0
>
>
> E.g. for the landing times chart, the y axis isn''t labeled (e.g. minutes/hours/days), and changes dynamically based on the data points in the chart/the pixel height of the chart. The y axis should be labeled in these charts.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
113,26703,54,JIRA.13088499.1500489709000.29765.1508692740454@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13088499.1500489709000@Atlassian.JIRA,,,2017-10-22 10:19:00-07,"[jira] [Resolved] (AIRFLOW-1432) NVD3 Charts do not have labeled
 axes and units change dynamically","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1432?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1432.
-------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2710
[https://github.com/apache/incubator-airflow/pull/2710]

> NVD3 Charts do not have labeled axes and units change dynamically
> -----------------------------------------------------------------
>
>                 Key: AIRFLOW-1432
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1432
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: webserver
>            Reporter: Dan Davydov
>            Assignee: Ash Berlin-Taylor
>             Fix For: 1.9.0
>
>
> E.g. for the landing times chart, the y axis isn''t labeled (e.g. minutes/hours/days), and changes dynamically based on the data points in the chart/the pixel height of the chart. The y axis should be labeled in these charts.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
114,666967,23,JIRA.12977198.1465473133000.38913.1465473140925@Atlassian.JIRA,25066,Tom Matecki (JIRA),JIRA.12977198.1465473133000@Atlassian.JIRA,,,2016-06-09 04:52:20-07,"[jira] [Created] (MILAGRO-11) Create ""Help wanted"" section on
 MILAGRO website","Tom Matecki created MILAGRO-11:
----------------------------------

             Summary: Create ""Help wanted"" section on MILAGRO website
                 Key: MILAGRO-11
                 URL: https://issues.apache.org/jira/browse/MILAGRO-11
             Project: Milagro
          Issue Type: Task
            Reporter: Tom Matecki
            Assignee: Tom Matecki


Link to MILAGRO JIRA board should be placed on MILAGRO website 

http://milagro.incubator.apache.org/index.html



--
This message was sent by Atlassian JIRA
(v6.3.4#6332)

",f
115,26704,54,JIRA.13109866.1508208719000.29774.1508693280068@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13109866.1508208719000@Atlassian.JIRA,,,2017-10-22 10:28:00-07,[jira] [Commented] (AIRFLOW-1719) Fix small typo - your vs you,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1719?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214388#comment-16214388 ] 

ASF subversion and git services commented on AIRFLOW-1719:
----------------------------------------------------------

Commit dfe1d53f8a8c370d7f0fea408668c3f738189900 in incubator-airflow''s branch refs/heads/master from [~j450h1]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=dfe1d53 ]

[AIRFLOW-1719] Fix small typo

Closes #2689 from j450h1/master


> Fix small typo - your vs you
> ----------------------------
>
>                 Key: AIRFLOW-1719
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1719
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Jas Sohi
>
> Fix a small typo.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
116,26705,54,JIRA.13109866.1508208719000.29777.1508693340203@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13109866.1508208719000@Atlassian.JIRA,,,2017-10-22 10:29:00-07,[jira] [Resolved] (AIRFLOW-1719) Fix small typo - your vs you,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1719?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1719.
-------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2689
[https://github.com/apache/incubator-airflow/pull/2689]

> Fix small typo - your vs you
> ----------------------------
>
>                 Key: AIRFLOW-1719
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1719
>             Project: Apache Airflow
>          Issue Type: Improvement
>            Reporter: Jas Sohi
>             Fix For: 1.9.0
>
>
> Fix a small typo.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
117,26706,54,JIRA.13109553.1508100330000.29793.1508693882030@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13109553.1508100330000@Atlassian.JIRA,,,2017-10-22 10:38:02-07,"[jira] [Commented] (AIRFLOW-1716) Fix multiple __init__ definition
 in SimpleDag","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1716?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214393#comment-16214393 ] 

ASF subversion and git services commented on AIRFLOW-1716:
----------------------------------------------------------

Commit e05254f8731ac55e169cdc581a38b0d3fe06267d in incubator-airflow''s branch refs/heads/master from [~sanjay.pillai]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=e05254f ]

[AIRFLOW-1716] Fix multiple __init__ def in SimpleDag

Closes #2692 from MortalViews/master


> Fix multiple __init__ definition in SimpleDag
> ---------------------------------------------
>
>                 Key: AIRFLOW-1716
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1716
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: DAG
>    Affects Versions: 1.9.0
>            Reporter: Sanjay Pillai
>            Assignee: Sanjay Pillai
>
> In airflow.utitls.dag_processing.SimpleDag  __init__ definition is repeated. 
> probably a result of incorrect merge conflict resolution. 
> removed the previous __init__ def and updated doc string. 



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
118,26707,54,JIRA.13109553.1508100330000.29795.1508694182642@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13109553.1508100330000@Atlassian.JIRA,,,2017-10-22 10:43:02-07,"[jira] [Commented] (AIRFLOW-1716) Fix multiple __init__ definition
 in SimpleDag","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1716?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214394#comment-16214394 ] 

ASF subversion and git services commented on AIRFLOW-1716:
----------------------------------------------------------

Commit 786e5223ac3c395dd31e748e6776fdaf3dc4880f in incubator-airflow''s branch refs/heads/master from [~bolke]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=786e522 ]

Revert ""[AIRFLOW-1716] Fix multiple __init__ def in SimpleDag""

This reverts commit e05254f8731ac55e169cdc581a38b0d3fe06267d.


> Fix multiple __init__ definition in SimpleDag
> ---------------------------------------------
>
>                 Key: AIRFLOW-1716
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1716
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: DAG
>    Affects Versions: 1.9.0
>            Reporter: Sanjay Pillai
>            Assignee: Sanjay Pillai
>
> In airflow.utitls.dag_processing.SimpleDag  __init__ definition is repeated. 
> probably a result of incorrect merge conflict resolution. 
> removed the previous __init__ def and updated doc string. 



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
119,26708,54,JIRA.13095579.1503043773000.29811.1508695322115@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13095579.1503043773000@Atlassian.JIRA,,,2017-10-22 11:02:02-07,[jira] [Commented] (AIRFLOW-1520) S3Hook uses boto2,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1520?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214399#comment-16214399 ] 

ASF subversion and git services commented on AIRFLOW-1520:
----------------------------------------------------------

Commit cd3ad3f2e2108dfd2c416765c33a2e6dca576846 in incubator-airflow''s branch refs/heads/master from [~nzeilemaker]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=cd3ad3f ]

[AIRFLOW-1520] Boto3 S3Hook, S3Log

Closes #2532 from NielsZeilemaker/AIRFLOW-1520


> S3Hook uses boto2
> -----------------
>
>                 Key: AIRFLOW-1520
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1520
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Niels Zeilemaker
>
> The S3Hook uses boto2 which does not support container roles. Therefore, we need to add permissions to the underlying ec2 instances instead.
> Upgrading to boto3 fixes this



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
120,26709,54,JIRA.13095579.1503043773000.29817.1508695322169@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13095579.1503043773000@Atlassian.JIRA,,,2017-10-22 11:02:02-07,[jira] [Commented] (AIRFLOW-1520) S3Hook uses boto2,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1520?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214401#comment-16214401 ] 

ASF subversion and git services commented on AIRFLOW-1520:
----------------------------------------------------------

Commit 3865836563e0ce97fd57232f4b6ede2fff601595 in incubator-airflow''s branch refs/heads/v1-9-test from [~nzeilemaker]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=3865836 ]

[AIRFLOW-1520] Boto3 S3Hook, S3Log

Closes #2532 from NielsZeilemaker/AIRFLOW-1520

(cherry picked from commit cd3ad3f2e2108dfd2c416765c33a2e6dca576846)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> S3Hook uses boto2
> -----------------
>
>                 Key: AIRFLOW-1520
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1520
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Niels Zeilemaker
>
> The S3Hook uses boto2 which does not support container roles. Therefore, we need to add permissions to the underlying ec2 instances instead.
> Upgrading to boto3 fixes this



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
121,26710,54,JIRA.13095579.1503043773000.29816.1508695322161@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13095579.1503043773000@Atlassian.JIRA,,,2017-10-22 11:02:02-07,[jira] [Commented] (AIRFLOW-1520) S3Hook uses boto2,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1520?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214400#comment-16214400 ] 

ASF subversion and git services commented on AIRFLOW-1520:
----------------------------------------------------------

Commit cd3ad3f2e2108dfd2c416765c33a2e6dca576846 in incubator-airflow''s branch refs/heads/master from [~nzeilemaker]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=cd3ad3f ]

[AIRFLOW-1520] Boto3 S3Hook, S3Log

Closes #2532 from NielsZeilemaker/AIRFLOW-1520


> S3Hook uses boto2
> -----------------
>
>                 Key: AIRFLOW-1520
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1520
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Niels Zeilemaker
>
> The S3Hook uses boto2 which does not support container roles. Therefore, we need to add permissions to the underlying ec2 instances instead.
> Upgrading to boto3 fixes this



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
122,26711,54,JIRA.13095579.1503043773000.29822.1508695322207@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13095579.1503043773000@Atlassian.JIRA,,,2017-10-22 11:02:02-07,[jira] [Commented] (AIRFLOW-1520) S3Hook uses boto2,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1520?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214402#comment-16214402 ] 

ASF subversion and git services commented on AIRFLOW-1520:
----------------------------------------------------------

Commit 3865836563e0ce97fd57232f4b6ede2fff601595 in incubator-airflow''s branch refs/heads/v1-9-test from [~nzeilemaker]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=3865836 ]

[AIRFLOW-1520] Boto3 S3Hook, S3Log

Closes #2532 from NielsZeilemaker/AIRFLOW-1520

(cherry picked from commit cd3ad3f2e2108dfd2c416765c33a2e6dca576846)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> S3Hook uses boto2
> -----------------
>
>                 Key: AIRFLOW-1520
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1520
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Niels Zeilemaker
>
> The S3Hook uses boto2 which does not support container roles. Therefore, we need to add permissions to the underlying ec2 instances instead.
> Upgrading to boto3 fixes this



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
123,26712,54,JIRA.13095579.1503043773000.29826.1508695380208@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13095579.1503043773000@Atlassian.JIRA,,,2017-10-22 11:03:00-07,[jira] [Resolved] (AIRFLOW-1520) S3Hook uses boto2,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1520?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-1520.
-------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2532
[https://github.com/apache/incubator-airflow/pull/2532]

> S3Hook uses boto2
> -----------------
>
>                 Key: AIRFLOW-1520
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1520
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Niels Zeilemaker
>             Fix For: 1.9.0
>
>
> The S3Hook uses boto2 which does not support container roles. Therefore, we need to add permissions to the underlying ec2 instances instead.
> Upgrading to boto3 fixes this



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
124,26713,54,JIRA.13047135.1488326347000.29831.1508695562360@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13047135.1488326347000@Atlassian.JIRA,,,2017-10-22 11:06:02-07,"[jira] [Commented] (AIRFLOW-926) jdbc connector is broken due to
 jaydebeapi api update","
    [ https://issues.apache.org/jira/browse/AIRFLOW-926?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214405#comment-16214405 ] 

ASF subversion and git services commented on AIRFLOW-926:
---------------------------------------------------------

Commit 21257e8f0643335d09c41f324c1d83ad1a8fc485 in incubator-airflow''s branch refs/heads/master from [~r-richmond]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=21257e8 ]

[AIRFLOW-926] Fix JDBC Hook

JayDeBeApi made a backwards incompatible change
This updates the JDBC Hook''s implementation
and changes the required JayDeBeApi to >= 1.1.1

Closes #2651 from r-richmond/AIRFLOW-926


> jdbc connector is broken due to jaydebeapi api update
> -----------------------------------------------------
>
>                 Key: AIRFLOW-926
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-926
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: hooks
>    Affects Versions: Airflow 1.8, Airflow 1.7.1.3
>            Reporter: r-richmond
>             Fix For: 1.9.0
>
>
> marking this as major as JDBC hooks are broken but it probably belongs somewhere between major and minor.... feel free to adjust
> there is an incompability between jaydebapi==1.0.0 and airflow as it sits now. they changed their connect api. Its a small change but it breaks the jdbc hook for the moment. the jdbc hook [code|https://github.com/apache/incubator-airflow/blob/ff45d8f2218a8da9328161aa66d004c3db3b367e/airflow/hooks/jdbc_hook.py#L55] should look like this (working on a pull request right now but this is the fix + something for multiple jars that are comma separated)
> {code:python}
>         conn = jaydebeapi.connect(jclassname=jdbc_driver_name,
>                                   url=host,
>                                   driver_args=[str(login), str(psw)],
>                                   jars=jdbc_driver_loc.split(sep="",""))
> {code}
> anyways that should be changed and [setup.py|https://github.com/apache/incubator-airflow/blob/4f52db317f16b431ef06e61ffebd8cc6aecd50c1/setup.py#L143] should be updated to reflect
> {code}
> jdbc = [''jaydebeapi>=1.0.0'']
> {code}
> [jaydebeapi updated api|https://github.com/baztian/jaydebeapi/commit/2640445de036def2169514aa56e5ad9ced246b16#diff-a51683c99849d299a6cb9e6c4bcec328R349] jan 9 2017



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
125,26714,54,JIRA.13047135.1488326347000.29838.1508695562450@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13047135.1488326347000@Atlassian.JIRA,,,2017-10-22 11:06:02-07,"[jira] [Commented] (AIRFLOW-926) jdbc connector is broken due to
 jaydebeapi api update","
    [ https://issues.apache.org/jira/browse/AIRFLOW-926?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214406#comment-16214406 ] 

ASF subversion and git services commented on AIRFLOW-926:
---------------------------------------------------------

Commit 07ed2968bbfb8c736ce6657190e887ba0a99f127 in incubator-airflow''s branch refs/heads/v1-9-test from [~r-richmond]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=07ed296 ]

[AIRFLOW-926] Fix JDBC Hook

JayDeBeApi made a backwards incompatible change
This updates the JDBC Hook''s implementation
and changes the required JayDeBeApi to >= 1.1.1

Closes #2651 from r-richmond/AIRFLOW-926

(cherry picked from commit 21257e8f0643335d09c41f324c1d83ad1a8fc485)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> jdbc connector is broken due to jaydebeapi api update
> -----------------------------------------------------
>
>                 Key: AIRFLOW-926
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-926
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: hooks
>    Affects Versions: Airflow 1.8, Airflow 1.7.1.3
>            Reporter: r-richmond
>             Fix For: 1.9.0
>
>
> marking this as major as JDBC hooks are broken but it probably belongs somewhere between major and minor.... feel free to adjust
> there is an incompability between jaydebapi==1.0.0 and airflow as it sits now. they changed their connect api. Its a small change but it breaks the jdbc hook for the moment. the jdbc hook [code|https://github.com/apache/incubator-airflow/blob/ff45d8f2218a8da9328161aa66d004c3db3b367e/airflow/hooks/jdbc_hook.py#L55] should look like this (working on a pull request right now but this is the fix + something for multiple jars that are comma separated)
> {code:python}
>         conn = jaydebeapi.connect(jclassname=jdbc_driver_name,
>                                   url=host,
>                                   driver_args=[str(login), str(psw)],
>                                   jars=jdbc_driver_loc.split(sep="",""))
> {code}
> anyways that should be changed and [setup.py|https://github.com/apache/incubator-airflow/blob/4f52db317f16b431ef06e61ffebd8cc6aecd50c1/setup.py#L143] should be updated to reflect
> {code}
> jdbc = [''jaydebeapi>=1.0.0'']
> {code}
> [jaydebeapi updated api|https://github.com/baztian/jaydebeapi/commit/2640445de036def2169514aa56e5ad9ced246b16#diff-a51683c99849d299a6cb9e6c4bcec328R349] jan 9 2017



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
126,26715,54,JIRA.13047135.1488326347000.29830.1508695562351@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13047135.1488326347000@Atlassian.JIRA,,,2017-10-22 11:06:02-07,"[jira] [Commented] (AIRFLOW-926) jdbc connector is broken due to
 jaydebeapi api update","
    [ https://issues.apache.org/jira/browse/AIRFLOW-926?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214404#comment-16214404 ] 

ASF subversion and git services commented on AIRFLOW-926:
---------------------------------------------------------

Commit 21257e8f0643335d09c41f324c1d83ad1a8fc485 in incubator-airflow''s branch refs/heads/master from [~r-richmond]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=21257e8 ]

[AIRFLOW-926] Fix JDBC Hook

JayDeBeApi made a backwards incompatible change
This updates the JDBC Hook''s implementation
and changes the required JayDeBeApi to >= 1.1.1

Closes #2651 from r-richmond/AIRFLOW-926


> jdbc connector is broken due to jaydebeapi api update
> -----------------------------------------------------
>
>                 Key: AIRFLOW-926
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-926
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: hooks
>    Affects Versions: Airflow 1.8, Airflow 1.7.1.3
>            Reporter: r-richmond
>             Fix For: 1.9.0
>
>
> marking this as major as JDBC hooks are broken but it probably belongs somewhere between major and minor.... feel free to adjust
> there is an incompability between jaydebapi==1.0.0 and airflow as it sits now. they changed their connect api. Its a small change but it breaks the jdbc hook for the moment. the jdbc hook [code|https://github.com/apache/incubator-airflow/blob/ff45d8f2218a8da9328161aa66d004c3db3b367e/airflow/hooks/jdbc_hook.py#L55] should look like this (working on a pull request right now but this is the fix + something for multiple jars that are comma separated)
> {code:python}
>         conn = jaydebeapi.connect(jclassname=jdbc_driver_name,
>                                   url=host,
>                                   driver_args=[str(login), str(psw)],
>                                   jars=jdbc_driver_loc.split(sep="",""))
> {code}
> anyways that should be changed and [setup.py|https://github.com/apache/incubator-airflow/blob/4f52db317f16b431ef06e61ffebd8cc6aecd50c1/setup.py#L143] should be updated to reflect
> {code}
> jdbc = [''jaydebeapi>=1.0.0'']
> {code}
> [jaydebeapi updated api|https://github.com/baztian/jaydebeapi/commit/2640445de036def2169514aa56e5ad9ced246b16#diff-a51683c99849d299a6cb9e6c4bcec328R349] jan 9 2017



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
127,26716,54,JIRA.13047135.1488326347000.29839.1508695562459@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13047135.1488326347000@Atlassian.JIRA,,,2017-10-22 11:06:02-07,"[jira] [Commented] (AIRFLOW-926) jdbc connector is broken due to
 jaydebeapi api update","
    [ https://issues.apache.org/jira/browse/AIRFLOW-926?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214407#comment-16214407 ] 

ASF subversion and git services commented on AIRFLOW-926:
---------------------------------------------------------

Commit 07ed2968bbfb8c736ce6657190e887ba0a99f127 in incubator-airflow''s branch refs/heads/v1-9-test from [~r-richmond]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=07ed296 ]

[AIRFLOW-926] Fix JDBC Hook

JayDeBeApi made a backwards incompatible change
This updates the JDBC Hook''s implementation
and changes the required JayDeBeApi to >= 1.1.1

Closes #2651 from r-richmond/AIRFLOW-926

(cherry picked from commit 21257e8f0643335d09c41f324c1d83ad1a8fc485)
Signed-off-by: Bolke de Bruin <bolke@xs4all.nl>


> jdbc connector is broken due to jaydebeapi api update
> -----------------------------------------------------
>
>                 Key: AIRFLOW-926
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-926
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: hooks
>    Affects Versions: Airflow 1.8, Airflow 1.7.1.3
>            Reporter: r-richmond
>             Fix For: 1.9.0
>
>
> marking this as major as JDBC hooks are broken but it probably belongs somewhere between major and minor.... feel free to adjust
> there is an incompability between jaydebapi==1.0.0 and airflow as it sits now. they changed their connect api. Its a small change but it breaks the jdbc hook for the moment. the jdbc hook [code|https://github.com/apache/incubator-airflow/blob/ff45d8f2218a8da9328161aa66d004c3db3b367e/airflow/hooks/jdbc_hook.py#L55] should look like this (working on a pull request right now but this is the fix + something for multiple jars that are comma separated)
> {code:python}
>         conn = jaydebeapi.connect(jclassname=jdbc_driver_name,
>                                   url=host,
>                                   driver_args=[str(login), str(psw)],
>                                   jars=jdbc_driver_loc.split(sep="",""))
> {code}
> anyways that should be changed and [setup.py|https://github.com/apache/incubator-airflow/blob/4f52db317f16b431ef06e61ffebd8cc6aecd50c1/setup.py#L143] should be updated to reflect
> {code}
> jdbc = [''jaydebeapi>=1.0.0'']
> {code}
> [jaydebeapi updated api|https://github.com/baztian/jaydebeapi/commit/2640445de036def2169514aa56e5ad9ced246b16#diff-a51683c99849d299a6cb9e6c4bcec328R349] jan 9 2017



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
128,26717,54,JIRA.13047135.1488326347000.29849.1508695562531@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13047135.1488326347000@Atlassian.JIRA,,,2017-10-22 11:06:02-07,"[jira] [Resolved] (AIRFLOW-926) jdbc connector is broken due to
 jaydebeapi api update","
     [ https://issues.apache.org/jira/browse/AIRFLOW-926?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin resolved AIRFLOW-926.
------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2651
[https://github.com/apache/incubator-airflow/pull/2651]

> jdbc connector is broken due to jaydebeapi api update
> -----------------------------------------------------
>
>                 Key: AIRFLOW-926
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-926
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: hooks
>    Affects Versions: Airflow 1.8, Airflow 1.7.1.3
>            Reporter: r-richmond
>             Fix For: 1.9.0
>
>
> marking this as major as JDBC hooks are broken but it probably belongs somewhere between major and minor.... feel free to adjust
> there is an incompability between jaydebapi==1.0.0 and airflow as it sits now. they changed their connect api. Its a small change but it breaks the jdbc hook for the moment. the jdbc hook [code|https://github.com/apache/incubator-airflow/blob/ff45d8f2218a8da9328161aa66d004c3db3b367e/airflow/hooks/jdbc_hook.py#L55] should look like this (working on a pull request right now but this is the fix + something for multiple jars that are comma separated)
> {code:python}
>         conn = jaydebeapi.connect(jclassname=jdbc_driver_name,
>                                   url=host,
>                                   driver_args=[str(login), str(psw)],
>                                   jars=jdbc_driver_loc.split(sep="",""))
> {code}
> anyways that should be changed and [setup.py|https://github.com/apache/incubator-airflow/blob/4f52db317f16b431ef06e61ffebd8cc6aecd50c1/setup.py#L143] should be updated to reflect
> {code}
> jdbc = [''jaydebeapi>=1.0.0'']
> {code}
> [jaydebeapi updated api|https://github.com/baztian/jaydebeapi/commit/2640445de036def2169514aa56e5ad9ced246b16#diff-a51683c99849d299a6cb9e6c4bcec328R349] jan 9 2017



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
129,26718,54,JIRA.13104708.1506332962000.29924.1508700603947@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-22 12:30:03-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214424#comment-16214424 ] 

Bolke de Bruin commented on AIRFLOW-1641:
-----------------------------------------

See https://github.com/apache/incubator-airflow/pull/2715 

Please test if this resolves your issue. When timeouts happen, the task will now fail. I havent tested it myself yet.



> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>              Labels: queued, scheduler, stuck, task
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
130,26719,54,JIRA.13104708.1506332962000.29926.1508701380415@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-22 12:43:00-07,"[jira] [Work started] (AIRFLOW-1641) Task gets stuck in queued
 state","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Work on AIRFLOW-1641 started by Bolke de Bruin.
-----------------------------------------------
> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>            Assignee: Bolke de Bruin
>              Labels: queued, scheduler, stuck, task
>             Fix For: 1.9.0
>
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
131,26720,54,JIRA.13104708.1506332962000.29935.1508701382536@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-22 12:43:02-07,[jira] [Updated] (AIRFLOW-1641) Task gets stuck in queued state,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Bolke de Bruin updated AIRFLOW-1641:
------------------------------------
    Fix Version/s: 1.9.0

> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>            Assignee: Bolke de Bruin
>              Labels: queued, scheduler, stuck, task
>             Fix For: 1.9.0
>
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
132,26721,54,JIRA.13104708.1506332962000.30015.1508705220213@Atlassian.JIRA,2188,Nick Bauer (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-22 13:47:00-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214443#comment-16214443 ] 

Nick Bauer commented on AIRFLOW-1641:
-------------------------------------

Thanks for trying to make a fix for this... but why would you submit a PR without testing your code?

> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>            Assignee: Bolke de Bruin
>              Labels: queued, scheduler, stuck, task
>             Fix For: 1.9.0
>
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
133,26722,54,JIRA.13104708.1506332962000.30049.1508706240174@Atlassian.JIRA,1275,Bolke de Bruin (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-22 14:04:00-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214452#comment-16214452 ] 

Bolke de Bruin commented on AIRFLOW-1641:
-----------------------------------------

Cause I need the feedback: I don''t experience the issue myself, it is pretty core in the scheduler what needs to be updated (the current patch doesn''t work correctly), next to that the automated testing helps to catch some errors (tests don''t pass currently).

Also in addition to what is written here you can also limit parallelism to workaround the issue. Staying in QUEUED means the task instance can''t even start. Most likely due to load or memory issues. This should be dealt with correctly (that is the real issue Im trying the solve in de patch), but it will fail your task anyways.




> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>            Assignee: Bolke de Bruin
>              Labels: queued, scheduler, stuck, task
>             Fix For: 1.9.0
>
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
134,26723,54,JIRA.13104708.1506332962000.30115.1508708760172@Atlassian.JIRA,2188,Nick Bauer (JIRA),JIRA.13104708.1506332962000@Atlassian.JIRA,,,2017-10-22 14:46:00-07,[jira] [Commented] (AIRFLOW-1641) Task gets stuck in queued state,"
    [ https://issues.apache.org/jira/browse/AIRFLOW-1641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214462#comment-16214462 ] 

Nick Bauer commented on AIRFLOW-1641:
-------------------------------------

I''ll try to make some time to test this, but I just recently upgraded our code so our dags load faster.  it should be pretty easy to test however: Create a dag that takes a long time to load - like have it sleep. , and set your dagbag import to something small like 5 seconds.

> Task gets stuck in queued state
> -------------------------------
>
>                 Key: AIRFLOW-1641
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1641
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: scheduler
>    Affects Versions: 1.8.0
>         Environment: Linux
>            Reporter: Mas
>            Assignee: Bolke de Bruin
>              Labels: queued, scheduler, stuck, task
>             Fix For: 1.9.0
>
>
> Hello,
> I have one dag with ~20 tasks. 
> The dags runs daily and some tasks can sometime last for hours, depending on the processed data behind.
> There are some interactions with AWS and a remote DB.
> I only use LocalExecutor.
> What this issue is about, is the fact that sometime (randomly, and without any clear reason) one of the tasks (here also, it is random) gets stuck in ""queued"" state and never starts running. 
> The manual workaround is to restart the task manually by clearing it.
> Does anyone have ideas about the issue behind, and how to avoid it for the future? 
> Thanks in advance for your help.
> PS: other people are facing the same behaviour: [link|https://stackoverflow.com/questions/45853013/airflow-tasks-get-stuck-at-queued-status-and-never-gets-running]



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
135,26724,54,JIRA.13012493.1476485289000.31902.1508742360275@Atlassian.JIRA,2309,Gauri K (JIRA),JIRA.13012493.1476485289000@Atlassian.JIRA,,,2017-10-23 00:06:00-07,"[jira] [Commented] (AIRFLOW-571) allow gunicorn config to be passed
 to airflow webserver","
    [ https://issues.apache.org/jira/browse/AIRFLOW-571?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214744#comment-16214744 ] 

Gauri K commented on AIRFLOW-571:
---------------------------------

Any updates on the same?

> allow gunicorn config to be passed to airflow webserver
> -------------------------------------------------------
>
>                 Key: AIRFLOW-571
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-571
>             Project: Apache Airflow
>          Issue Type: Improvement
>          Components: webserver
>            Reporter: Dennis O''Brien
>
> I have run into an issue when running airflow webserver behind a load balancer where redirects result in https requests forwarded to http.  I ran into a similar issue with Caravel which also uses gunicorn.  https://github.com/airbnb/caravel/issues/978  From that issue:
> {quote}
> When gunicorn is run on a different machine from the load balancer (nginx or ELB), it needs to be told explicitly to trust the X-Forwarded-* headers sent. gunicorn takes an option --forwarded-allow-ips which can either be a comma separated list of ip addresses, or ""*"" to trust all.
> {quote}
> I don''t see a simple way to inject custom arguments to the gunicorn call in `webserver()`.  Rather than making a special case to set --forwarded-allow-ips, it would be nice if the caller of `airflow webserver` could pass an additional gunicorn config file.
> The call to gunicorn is already including a -c and I''m not sure gunicorn will take multiple configs, so maybe we have to parse the config and include each name=value on the gunicorn command line.  Any suggestions on how best to allow this?



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
136,631124,147,407C2A71.205@apache.org,21653,Gregor J. Rothfuss,407C18F1.1030103@wyona.com,29.0,Michael Wechner,2004-04-13 10:59:13-07,Re: Clone Proposal,"Michael Wechner wrote:
> whereas I guess the specific clone.xml imports the generic one (or is it 
> the opposite way around).

the other way round from what i can see

> Anyway, for the beginning we could do this for the default and blog 
> publication.

+1

> Also I think we should add two new publication instances:
> 
> my-default and my-blog where we have slight changes re the layout for 
> instance.

-1 in cvs, +1 in the build process. or even better, accessible from the 
admin area. should be an easy excercise for someone to have a flow page 
trigger the ant task.

-gregor

-- 
Gregor J. Rothfuss
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://wyona.com                   http://cocoon.apache.org/lenya
gregor.rothfuss@wyona.com                       gregor@apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lenya-dev-unsubscribe@cocoon.apache.org
For additional commands, e-mail: lenya-dev-help@cocoon.apache.org


",f
137,26725,54,JIRA.13106861.1507094940000.32515.1508748120832@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13106861.1507094940000@Atlassian.JIRA,,,2017-10-23 01:42:00-07,"[jira] [Commented] (AIRFLOW-1677) Fix typo in
 example_qubole_operator","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1677?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214822#comment-16214822 ] 

ASF subversion and git services commented on AIRFLOW-1677:
----------------------------------------------------------

Commit 4386cd4145c15f03c61911d1c24c698d00db25b1 in incubator-airflow''s branch refs/heads/master from [~rupesh92]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=4386cd4 ]

[AIRFLOW-1677] Fix typo in example_qubole_operator

Closes #2661 from rupesh92/AIRFLOW-1677


> Fix typo in example_qubole_operator
> -----------------------------------
>
>                 Key: AIRFLOW-1677
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1677
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Rupesh Bansal
>            Assignee: Rupesh Bansal
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
138,26726,54,JIRA.13106861.1507094940000.32514.1508748120825@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13106861.1507094940000@Atlassian.JIRA,,,2017-10-23 01:42:00-07,"[jira] [Commented] (AIRFLOW-1677) Fix typo in
 example_qubole_operator","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1677?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214821#comment-16214821 ] 

ASF subversion and git services commented on AIRFLOW-1677:
----------------------------------------------------------

Commit 4386cd4145c15f03c61911d1c24c698d00db25b1 in incubator-airflow''s branch refs/heads/master from [~rupesh92]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=4386cd4 ]

[AIRFLOW-1677] Fix typo in example_qubole_operator

Closes #2661 from rupesh92/AIRFLOW-1677


> Fix typo in example_qubole_operator
> -----------------------------------
>
>                 Key: AIRFLOW-1677
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1677
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Rupesh Bansal
>            Assignee: Rupesh Bansal
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
139,26727,54,JIRA.13106861.1507094940000.32520.1508748180214@Atlassian.JIRA,1342,Sumit Maheshwari (JIRA),JIRA.13106861.1507094940000@Atlassian.JIRA,,,2017-10-23 01:43:00-07,"[jira] [Resolved] (AIRFLOW-1677) Fix typo in
 example_qubole_operator","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1677?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Sumit Maheshwari resolved AIRFLOW-1677.
---------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2661
[https://github.com/apache/incubator-airflow/pull/2661]

> Fix typo in example_qubole_operator
> -----------------------------------
>
>                 Key: AIRFLOW-1677
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1677
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Rupesh Bansal
>            Assignee: Rupesh Bansal
>             Fix For: 1.9.0
>
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
140,26728,54,JIRA.13105801.1506618471000.32927.1508752680734@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13105801.1506618471000@Atlassian.JIRA,,,2017-10-23 02:58:00-07,"[jira] [Commented] (AIRFLOW-1657) Handle failure of Qubole Operator
 for s3distcp hadoop command","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1657?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214904#comment-16214904 ] 

ASF subversion and git services commented on AIRFLOW-1657:
----------------------------------------------------------

Commit 263861ed2ccefc21665697af4903bdb021431dea in incubator-airflow''s branch refs/heads/master from [~rupesh92]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=263861e ]

[AIRFLOW-1657] Handle failing qubole operator

Closes #2643 from rupesh92/AIRFLOW-1657


> Handle failure of Qubole Operator for s3distcp hadoop command
> -------------------------------------------------------------
>
>                 Key: AIRFLOW-1657
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1657
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Rupesh Bansal
>            Assignee: Rupesh Bansal
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
141,26729,54,JIRA.13105801.1506618471000.32928.1508752680744@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13105801.1506618471000@Atlassian.JIRA,,,2017-10-23 02:58:00-07,"[jira] [Commented] (AIRFLOW-1657) Handle failure of Qubole Operator
 for s3distcp hadoop command","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1657?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214905#comment-16214905 ] 

ASF subversion and git services commented on AIRFLOW-1657:
----------------------------------------------------------

Commit 263861ed2ccefc21665697af4903bdb021431dea in incubator-airflow''s branch refs/heads/master from [~rupesh92]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=263861e ]

[AIRFLOW-1657] Handle failing qubole operator

Closes #2643 from rupesh92/AIRFLOW-1657


> Handle failure of Qubole Operator for s3distcp hadoop command
> -------------------------------------------------------------
>
>                 Key: AIRFLOW-1657
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1657
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Rupesh Bansal
>            Assignee: Rupesh Bansal
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
142,26730,54,JIRA.13105801.1506618471000.32942.1508752740683@Atlassian.JIRA,1342,Sumit Maheshwari (JIRA),JIRA.13105801.1506618471000@Atlassian.JIRA,,,2017-10-23 02:59:00-07,"[jira] [Resolved] (AIRFLOW-1657) Handle failure of Qubole Operator
 for s3distcp hadoop command","
     [ https://issues.apache.org/jira/browse/AIRFLOW-1657?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Sumit Maheshwari resolved AIRFLOW-1657.
---------------------------------------
       Resolution: Fixed
    Fix Version/s: 1.9.0

Issue resolved by pull request #2643
[https://github.com/apache/incubator-airflow/pull/2643]

> Handle failure of Qubole Operator for s3distcp hadoop command
> -------------------------------------------------------------
>
>                 Key: AIRFLOW-1657
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1657
>             Project: Apache Airflow
>          Issue Type: Bug
>            Reporter: Rupesh Bansal
>            Assignee: Rupesh Bansal
>             Fix For: 1.9.0
>
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
143,875379,186,D8FDAF11-AA78-4ED5-B22A-56B370B2A431@adobe.com,30922,Felix Meschberger,C503E080-4E4C-428C-913E-4E6F7FAD945A@adobe.com,,,2017-06-30 22:23:43-07,Re: Adding pages to confluence,"SGkgVHlzb24NCg0KSSBoYXZlIGdyYW50ZWQgeW91IHdyaXRlIGFjY2Vzcw0KDQpSZWdhcmRzDQpG
ZWxpeA0KDQo+IEFtIDMwLjA2LjIwMTcgdW0gMTg6MDMgc2NocmllYiBUeXNvbiBOb3JyaXMgPHRu
b3JyaXNAYWRvYmUuY29tLklOVkFMSUQ+Og0KPiANCj4gSGkgLQ0KPiBJ4oCZbSB0cnlpbmcgdG8g
YWRkIGEgcGFnZSB0byBodHRwczovL2N3aWtpLmFwYWNoZS5vcmcvY29uZmx1ZW5jZS9kaXNwbGF5
L09QRU5XSElTSy9Qcm9wb3NhbHMNCj4gQnV0IGl0IHNlZW1zIGxpa2UgSSBkb27igJl0IGhhdmUg
cGVybWlzc2lvbj8NCj4gDQo+IFNob3VsZCBJIGluc3RlYWQgYWRkIGl0IHRvIEdpdEh1YiBhdCBo
dHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL2luY3ViYXRvci1vcGVud2hpc2svd2lraSA/DQo+IA0K
PiBUaGFua3MNCj4gVHlzb24NCg0K

",f
144,26731,54,JIRA.13106671.1507028314000.32939.1508752740650@Atlassian.JIRA,2297,Andrew Jones (JIRA),JIRA.13106671.1507028314000@Atlassian.JIRA,,,2017-10-23 02:59:00-07,"[jira] [Commented] (AIRFLOW-1673) dagrun.dependency-check stat
 contains space in metric name","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1673?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214906#comment-16214906 ] 

Andrew Jones commented on AIRFLOW-1673:
---------------------------------------

Is there anything I can do to help get this merged? Thanks.

> dagrun.dependency-check stat contains space in metric name
> ----------------------------------------------------------
>
>                 Key: AIRFLOW-1673
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1673
>             Project: Apache Airflow
>          Issue Type: Bug
>          Components: core
>    Affects Versions: 1.8.2
>            Reporter: Andrew Jones
>            Assignee: Andrew Jones
>            Priority: Minor
>              Labels: pull-request-available
>
> In {{models.py}}, we save a stat with the [following code|https://github.com/apache/incubator-airflow/blob/afd927a256d8ff97e59b28a3caf81ac0bf0d07f3/airflow/models.py#L4563]:
> {code}
> Stats.timing(""dagrun.dependency-check.{}.{}"".
>                      format(self.dag_id, self.execution_date), duration)
> {code}
> {{self.execution_date}} is introducing a space in the metric name, so what gets sent to stats is something like this:
> {code}
> airflow.dagrun.dependency-check.dagid.2017-09-25 00:00:00:32.253000|ms
> {code}
> A space isn''t valid here and should be removed.
> We could either remove the space from the datetime, save only the date, or remove the datetime from the stat name completely.
> Maybe just change {{self.execution_date}} to {{self.execution_date.isoformat()}}?



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
145,26732,54,JIRA.13110574.1508391320000.32987.1508752920206@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13110574.1508391320000@Atlassian.JIRA,,,2017-10-23 03:02:00-07,"[jira] [Commented] (AIRFLOW-1736) Add HotelQuickly to Who Uses
 Airflow","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1736?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214917#comment-16214917 ] 

ASF subversion and git services commented on AIRFLOW-1736:
----------------------------------------------------------

Commit 1ef2b6c2d87ef9b1363136d62a598f2a54d2691e in incubator-airflow''s branch refs/heads/master from [~zinuzoid]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=1ef2b6c ]

[AIRFLOW-1736] Add HotelQuickly to Who Uses Airflow

Closes #2705 from zinuzoid/AIRFLOW-1736


> Add HotelQuickly to Who Uses Airflow
> ------------------------------------
>
>                 Key: AIRFLOW-1736
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1736
>             Project: Apache Airflow
>          Issue Type: Task
>            Reporter: Jetsada Machom
>            Assignee: Jetsada Machom
>            Priority: Trivial
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
146,26733,54,JIRA.13110574.1508391320000.32986.1508752920196@Atlassian.JIRA,1317,ASF subversion and git services (JIRA),JIRA.13110574.1508391320000@Atlassian.JIRA,,,2017-10-23 03:02:00-07,"[jira] [Commented] (AIRFLOW-1736) Add HotelQuickly to Who Uses
 Airflow","
    [ https://issues.apache.org/jira/browse/AIRFLOW-1736?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=16214916#comment-16214916 ] 

ASF subversion and git services commented on AIRFLOW-1736:
----------------------------------------------------------

Commit 1ef2b6c2d87ef9b1363136d62a598f2a54d2691e in incubator-airflow''s branch refs/heads/master from [~zinuzoid]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=1ef2b6c ]

[AIRFLOW-1736] Add HotelQuickly to Who Uses Airflow

Closes #2705 from zinuzoid/AIRFLOW-1736


> Add HotelQuickly to Who Uses Airflow
> ------------------------------------
>
>                 Key: AIRFLOW-1736
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1736
>             Project: Apache Airflow
>          Issue Type: Task
>            Reporter: Jetsada Machom
>            Assignee: Jetsada Machom
>            Priority: Trivial
>




--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
147,26734,54,JIRA.13111372.1508757795000.33381.1508757840079@Atlassian.JIRA,2348,Ondrej Kokes (JIRA),JIRA.13111372.1508757795000@Atlassian.JIRA,,,2017-10-23 04:24:00-07,[jira] [Created] (AIRFLOW-1747) Incorrect documentation,"Ondrej Kokes created AIRFLOW-1747:
-------------------------------------

             Summary: Incorrect documentation
                 Key: AIRFLOW-1747
                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1747
             Project: Apache Airflow
          Issue Type: Improvement
          Components: Documentation
            Reporter: Ondrej Kokes


Given that the PyPI package is now apache-airflow, not just airflow (as fixed in JIRAs 1185 and 1187), this needs to be reflected in the documentation. The rst code has been fixed, but the generated documentation is stale. *It''s still telling people to install {{airflow}}, not {{apache-airflow}}.*

* [The original documentation|https://airflow.apache.org/installation.html] still instructs people to use {{pip install airflow}}
* So does the [pythonhosted.org version|http://pythonhosted.org/airflow/installation.html] - this one is linked to from README.md in the projects, so I guess it''s the most visible piece of documentation (""Please visit the Airflow Platform documentation for help with installing Airflow, getting a quick start, or a more complete tutorial."")
* ReadTheDocs is fine

Pythonhosted seems to depend on what''s set up on PyPI, so that one depends on what repo the documentation is taken from. As the project was renamed, I guess the documentation is still taken from the old code.

As for the official website... I don''t know how that''s generated, but it could do with a refresh.

Let me know if I can help in any way - I unfortunately don''t know much about how these are setup.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
148,26735,54,JIRA.13111372.1508757795000.33382.1508757840095@Atlassian.JIRA,2348,Ondrej Kokes (JIRA),JIRA.13111372.1508757795000@Atlassian.JIRA,,,2017-10-23 04:24:00-07,[jira] [Updated] (AIRFLOW-1747) Stale documentation,"
     [ https://issues.apache.org/jira/browse/AIRFLOW-1747?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Ondrej Kokes updated AIRFLOW-1747:
----------------------------------
    Summary: Stale documentation  (was: Incorrect documentation)

> Stale documentation
> -------------------
>
>                 Key: AIRFLOW-1747
>                 URL: https://issues.apache.org/jira/browse/AIRFLOW-1747
>             Project: Apache Airflow
>          Issue Type: Improvement
>          Components: Documentation
>            Reporter: Ondrej Kokes
>
> Given that the PyPI package is now apache-airflow, not just airflow (as fixed in JIRAs 1185 and 1187), this needs to be reflected in the documentation. The rst code has been fixed, but the generated documentation is stale. *It''s still telling people to install {{airflow}}, not {{apache-airflow}}.*
> * [The original documentation|https://airflow.apache.org/installation.html] still instructs people to use {{pip install airflow}}
> * So does the [pythonhosted.org version|http://pythonhosted.org/airflow/installation.html] - this one is linked to from README.md in the projects, so I guess it''s the most visible piece of documentation (""Please visit the Airflow Platform documentation for help with installing Airflow, getting a quick start, or a more complete tutorial."")
> * ReadTheDocs is fine
> Pythonhosted seems to depend on what''s set up on PyPI, so that one depends on what repo the documentation is taken from. As the project was renamed, I guess the documentation is still taken from the old code.
> As for the official website... I don''t know how that''s generated, but it could do with a refresh.
> Let me know if I can help in any way - I unfortunately don''t know much about how these are setup.



--
This message was sent by Atlassian JIRA
(v6.4.14#64029)

",t
149,875512,186,CAAC1_d4=kYmUMnfz+z9H+nbCteFiM5ROHZ0jAawhm4=xDL4bUg@mail.gmail.com,30891,Rodric Rabbah,,,,2017-08-01 17:49:52-07,authentication models for openwhisk,"I''m capturing below a summary of slack discussions around authentication
and identity management for openwhisk for the benefit of the dev list.

The discussion started around the IBM Bluemix login integration for
openwhisk and how the wsk CLI will be a plugin as part of an existing
bluemix CLI. In doing this, the goal is to maintain the platform
independence of the wsk CLI but allow a platform to provide its own
identity management.

To which, it was noted [1] that Adobe has had the same discussion within
their team since they require a different authentication method for their
OpenWhisk deployment. One of the questions that arose in the ensuing
discussion was: what would it take to make the wsk CLI plugable with
respect to authentication (rather than having each platform provider wrap
wsk for their own purposes).

It was noted that JWT (Json Web Tokens) may be one approach [2], or using
pre-existing OAuth providers to provide tokens (that expire after some
duration) [3]. So how can one use OAuth tokens to authenticate the wsk CLI?
Apropos this point, it may be necessary to modify the Authentication [4]
interface in the controller to allow for multiple identity provider models.
Some extensions in this space are already underway (see [5] for certificate
based authentication for example).

An example was proposed as follows [6]:
   currently CLI does
       req.Header.Add(""Authorization"", fmt.Sprintf(""Basic %%%%s"",
encodedAuthToken))
   that is one place it would be nice to make configurable, e.g.
       wsk --basic-auth
    and
       wsk --bearer-auth (or Authorization: Bearer)

And to possibly extend .wskprops as in [7] to augment the existing AUTH
property:
       AUTH=Bearer <token>
    or
       AUTH=Basic <basic:Credentials>
    which can be automatically configured via a new wsk CLI command as in
       wsk auth login
    which can print a URL that users open in the browser to authenticate,
then they come back to paste the Bearer Token. The CLI can add the token
into .wskprops.

It was noted in [7] that the Azure CLI works similarly. Here''s an example:
    az login
   To sign in, use a web browser to open the page https://aka.ms/devicelogin
and enter the code xxxxx to authenticate.

A prototype of this ""wsk login"" approach was previously prototyped as proof
of concept in [8] using GitHub as an OAuth provider. The flow if I recall
is:

    wsk login <provider> # one of github, google

this opens a browser which allows the user to authenticate and returns an
OAuth token. This was injected into the authentication database which then
allows the wsk CLI to use the token for subsequent operations.

-r (on behalf of several openwhiskers from our community slack channel -
typos all my own)

[1] https://openwhisk-team.slack.com/archives/C3TPCAQG1/p1501594586367600
[2] https://openwhisk-team.slack.com/archives/C3TPCAQG1/p1501598248729369
[3] https://openwhisk-team.slack.com/archives/C3TPCAQG1/p1501599810814266
[4]
https://github.com/apache/incubator-openwhisk/blob/master/core/controller/src/main/scala/whisk/core/controller/AuthenticatedRoute.scala
[5] https://github.com/apache/incubator-openwhisk/pull/2517
[6] https://openwhisk-team.slack.com/archives/C3TPCAQG1/p1501602885940574
[7] https://openwhisk-team.slack.com/archives/C3TPCAQG1/p1501604477993184
[8]
https://github.com/apache/incubator-openwhisk/compare/master...starpit:oauth_login?expand=1
(note that the secrets shows here are not valid and for illustration only)
",f
